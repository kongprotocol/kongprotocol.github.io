(this.webpackJsonpkong=this.webpackJsonpkong||[]).push([[0],{151:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(37),a=n(100),c=n(34),i=n(39),s=n(3),o=function(){var e=Object(r.d)().publicKey,t=Object(c.b)();return Object(s.jsx)("div",{children:Object(s.jsx)(a.a,{className:"Open-loan-button",onClick:function(){return t(Object(i.h)(!0))},disabled:!e,variant:"contained",children:"Open New Loan"})})}},17:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"r",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"u",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"t",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"s",(function(){return j})),n.d(t,"C",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return p})),n.d(t,"B",(function(){return x})),n.d(t,"A",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return k})),n.d(t,"z",(function(){return A})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return T})),n.d(t,"x",(function(){return N})),n.d(t,"q",(function(){return L})),n.d(t,"v",(function(){return W})),n.d(t,"D",(function(){return P})),n.d(t,"y",(function(){return _})),n.d(t,"w",(function(){return K}));var r=n(7),a=60,c=768,i=1024,s="devnet",o="kong_mint",l="banana_mint",u="PROGRAM_VAULT",b=257,j=(new r.PublicKey("4ZKXWewnacnm2ApTJC68DzoNHaJg6gtTXZA3LLumfMtX"),new r.PublicKey("9kyWPBeU9RnjxnWkkYKYVeShAwQgPDmxujr77thREZtN"),new r.PublicKey("EvcBDSzxPM5WjQjgZGiewFpyKW9cEAVGoQeBkRMZo7uU")),d=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),f=new r.PublicKey("98ct6KjzotM4e6Hn2PdBhYTJfi7yYDBhxVjcC21H7oUF"),O=new r.PublicKey("CY5mvkTFqgiHQd4Fbb5ykv6aKCpczJVbxWxFXpCZZCJc"),p=new r.PublicKey("HADUDXZsxpv5Nb4M81EaAHh6VxkSKkuDtdUsPHXm3Sv9"),x=new r.PublicKey("3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E"),m=new r.PublicKey("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix"),g=(new r.PublicKey("5SSkXsEKQepHHAewytPVwdej4epN1nxgLVM84L4KXgy7"),new r.PublicKey("5SSkXsEKQepHHAewytPVwdej4epN1nxgLVM84L4KXgy7"),new r.PublicKey("2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu")),h=new r.PublicKey("EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw"),S=new r.PublicKey("MarBmsSgKXdrN1egZf5sqe1TMai9K1rChYNDJgjq7aD"),y=new r.PublicKey("8szGkuLTAux9XMgZ2vtY39jVSowEcpBfFfD8hXSEqdGC"),v=new r.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),k=new r.PublicKey("3JLPCS1qM2zRw3Dp6V4hZnYHd4toMNPkNesXdX9tg6KM"),A=new r.PublicKey("UefNb6z6yvArqe4cJHTXCqStRsKmWhGxnZzuHbikP5Q"),w=new r.PublicKey("7GgPYjS5Dza89wV6FpZ23kUJRG5vbQ1GM25ezspYFSoE"),T=new r.PublicKey("EyaSjUtSgo9aRD1f8LWXwdvkpDTmXAW54yoSHZRF14WL"),N=new r.PublicKey("Du3Ysj1wKbxPKkuPPnvzQLQh8oMSVifs3jGZjJWXFmHN"),L=new r.PublicKey("8ZUcztoAEhpAeC2ixWewJKQJsSUGYSGPVAjkhDJYf5Gd"),W=new r.PublicKey("2vLPCe92GpHKJRGDp9GjZRzAyeLh6RtW1ACAi9n4Fa1u"),P=new r.PublicKey("11111111111111111111111111111111"),_=new r.PublicKey("11111111111111111111111111111111"),K=new r.PublicKey("SysvarRent111111111111111111111111111111111");new r.PublicKey("SysvarC1ock11111111111111111111111111111111"),new r.PublicKey("11111111111111111111111111111111")},254:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(2),a=n.n(r),c=n(18),i=n(6),s=n(37),o=n(7),l=n(42),u=n(1),b=n(17),j=n(153),d=n(100),f=n(5),O=n(34),p=n(81),x=n(39),m=n(3);function g(e,t){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PublicKey.findProgramAddress([t.toBuffer(),l.b.toBuffer(),n.toBuffer()],b.C);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(t){var n=Object(s.c)().connection,r=Object(s.d)(),h=r.publicKey,S=r.sendTransaction,y=Object(u.useState)(!1),v=Object(c.a)(y,2),k=v[0],A=v[1],w=Object(O.b)(),T=Object(p.a)(),N=Object(u.useCallback)(Object(i.a)(a.a.mark((function r(){var c,i,s,u,j,d,O,p,m,y,v,k;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(h){r.next=3;break}return T("error","Wallet not connected!"),r.abrupt("return");case 3:return c="",r.prev=4,A(!0),i=h,s=new o.Keypair,r.next=10,g(i,b.a);case 10:return u=r.sent,r.next=13,o.PublicKey.createWithSeed(t.loanAccount,b.t,l.b);case 13:return j=r.sent,r.next=16,o.PublicKey.findProgramAddress([t.loanAccount.toBuffer(),j.toBuffer()],b.v);case 16:return d=r.sent,O=Object(f.struct)([Object(f.u8)("instruction")]),p=e.alloc(O.span),O.encode({instruction:1},p),m=(new o.Transaction).add(l.c.createApproveInstruction(l.b,u,s.publicKey,i,[],t.loanAmount),new o.TransactionInstruction({keys:[{pubkey:b.s,isSigner:!1,isWritable:!1},{pubkey:b.l,isSigner:!1,isWritable:!0},{pubkey:t.loanAccount,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:b.a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s.publicKey,isSigner:!0,isWritable:!1},{pubkey:d[0],isSigner:!1,isWritable:!1},{pubkey:b.c,isSigner:!1,isWritable:!0},{pubkey:b.o,isSigner:!1,isWritable:!0},{pubkey:b.z,isSigner:!1,isWritable:!0},{pubkey:b.m,isSigner:!1,isWritable:!0},{pubkey:b.q,isSigner:!1,isWritable:!0},{pubkey:b.D,isSigner:!1,isWritable:!1},{pubkey:l.b,isSigner:!1,isWritable:!1},{pubkey:b.k,isSigner:!1,isWritable:!1}],programId:b.v,data:p})),r.next=23,n.getTokenAccountBalance(u);case 23:if(y=r.sent,!((v=y.value.uiAmount)&&v<=t.loanAmount/o.LAMPORTS_PER_SOL)){r.next=27;break}throw Error("Insufficient wallet balance of ".concat(v.toFixed(5)," Bananas for transaction of ").concat(t.loanAmount/o.LAMPORTS_PER_SOL," Bananas."));case 27:return T("info","Close Loan Request Approval Needed"),k=[s],r.next=31,S(m,n,{signers:k});case 31:return c=r.sent,T("info","Transaction sent:",c),w(Object(x.j)(!0)),r.next=36,n.confirmTransaction(c,"processed");case 36:T("success","Transaction successful!",c),r.next=45;break;case 39:return r.prev=39,r.t0=r.catch(4),A(!1),w(Object(x.j)(!1)),T("error","Transaction failed! ".concat(null===r.t0||void 0===r.t0?void 0:r.t0.message),c),r.abrupt("return");case 45:case"end":return r.stop()}}),r,null,[[4,39]])}))),[h,t,n,S,w,T]);return Object(m.jsx)(m.Fragment,{children:k?Object(m.jsx)(j.a,{color:"success"}):Object(m.jsx)(d.a,{size:t.buttonSize,onClick:N,disabled:!h,variant:"contained",children:t.text?t.text:"Close Loan"})})}}).call(this,n(11).Buffer)},357:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var r=n(2),a=n.n(r),c=n(6),i=n(256),s=n(68),o=n(75),l=n(620),u=n(373),b=n(621),j=n(622),d=n(375),f=n(376),O=n(84),p=n(50),x=n(44),m=n(623),g=n(619),h=n(624),S=n(625),y=n(153),v=n(152),k=n.n(v),A=n(83),w=n(37),T=n(7),N=n(1),L=n(34),W=n(17),P=n(254),_=n(39),K=n(81),C=n(41),E=n(151),B=n(36),I=n(3);function D(e){return void 0===e||null===e?0:parseFloat(e.toString())}var R=Object(A.struct)([Object(A.u8)("version"),Object(A.publicKey)("owner"),Object(A.u64)("collateral_amount"),Object(A.u64)("market_price"),Object(A.u64)("loan_amount"),Object(A.publicKey)("loan_mint"),Object(A.i64)("loan_creation_date"),Object(A.publicKey)("vault")]),M=function(){var t,n,r=Object(w.c)().connection,v=Object(w.d)().publicKey,A=Object(L.b)(),M=Object(L.c)(_.b),U=Object(N.useRef)(!0),F=Object(K.a)(),z=Object(L.c)(B.d).windowWidth<W.j;M.notify||A(Object(_.g)(F)),v&&!(null===(t=M.walletKey)||void 0===t?void 0:t.equals(v))&&A(Object(_.f)([],v)),Object(N.useEffect)((function(){return function(){A(Object(_.k)(null,null)),U.current=!1}}),[A]);var G=function(t){for(var n=[],r=0;r<t.length;r++){var a=t[r].account.data,c=R.decode(e.from(a)),i=1e3*D(c.loan_creation_date),s=new Date(i).toLocaleDateString("en-us");n.push({loanAccount:t[r].pubkey,collateral:D(c.collateral_amount),marketPrice:D(c.market_price),loanAmount:D(c.loan_amount),dateOpened:s,timestamp:i})}n.length?A(Object(_.f)(n,v)):A(Object(_.f)(null,v))};Object(N.useEffect)((function(){var e;function t(){return(t=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v?(t=r.getProgramAccounts(W.v,{commitment:"max",filters:[{memcmp:{bytes:v.toString(),offset:1}}]}),U.current&&t.then((function(e){return G(e)}))):F("warning","Wallet Not Connected");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v&&0===(null===(e=M.list)||void 0===e?void 0:e.length)&&function(){t.apply(this,arguments)}()})),Object(N.useEffect)((function(){function e(){return(e=Object(c.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t?t.length:0,v?(c=r.getProgramAccounts(W.v,{commitment:"max",filters:[{memcmp:{bytes:v.toString(),offset:1}}]}),U.current&&c.then((function(e){A(Object(_.a)()),e.length!==n&&G(e)}))):F("warning","Wallet Not Connected");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v&&M.scan&&null===M.scanTimer&&A(Object(_.k)((new Date).getTime(),setInterval((function(){return function(t){return e.apply(this,arguments)}(M.list)}),5e3)))}));var H=Object(i.a)({components:{MuiTableCell:{styleOverrides:{root:{color:"white"}}},MuiTableContainer:{styleOverrides:{root:{backgroundColor:"transparent"}}}}});if(M.scan)return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(s.a,{component:"div",children:[Object(I.jsx)(o.a,{className:"Updating-loan-list-text",sx:{fontSize:"h5.fontSize",m:1},children:"Updating Loan List"}),Object(I.jsx)("div",{children:Object(I.jsx)("img",{className:"Dancing-banana",src:"/dancing-banana.gif",alt:"Updating Loan List"})})]}),Object(I.jsx)("br",{}),Object(I.jsx)(l.a,{sx:{width:"30%",marginLeft:"35%"}})]});if(null===(n=M.list)||void 0===n?void 0:n.length){var J=Object.assign([],M.list).sort((function(e,t){return e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0}));if(z){var V={borderBottom:"0px",padding:"0px"};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(E.a,{}),Object(I.jsx)("br",{}),Object(I.jsx)(u.a,{theme:H,children:J.map((function(e){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(b.a,{sx:{bgcolor:"transparent",border:"1px solid rgb(76, 136, 86)"},variant:"outlined",raised:!1,children:[Object(I.jsx)(j.a,{sx:{padding:"5px"},children:Object(I.jsx)(d.a,{children:Object(I.jsx)(f.a,{"aria-label":"simple table",children:Object(I.jsxs)("tbody",{children:[Object(I.jsx)(O.a,{children:Object(I.jsx)(p.a,{sx:V,children:"Collateral Amount (SOL):"})}),Object(I.jsx)(O.a,{children:Object(I.jsx)(p.a,{sx:V,className:"Loan-list-cell-value",component:"th",scope:"row",children:Object(I.jsxs)(x.a,{container:!0,direction:"row",alignItems:"left",children:[Object(I.jsx)(k.a,{}),Object(I.jsx)("span",{style:{marginTop:"2px"},children:e.collateral/T.LAMPORTS_PER_SOL})]})})}),Object(I.jsx)(O.a,{children:Object(I.jsx)(p.a,{sx:V,align:"left",children:"SOL/USD Market Price:"})}),Object(I.jsx)(O.a,{children:Object(I.jsx)(p.a,{sx:V,className:"Loan-list-cell-value",align:"left",children:Object(I.jsxs)(x.a,{container:!0,direction:"row",alignItems:"left",children:[Object(I.jsx)(k.a,{}),Object(I.jsxs)("span",{style:{marginTop:"2px"},children:["$",e.marketPrice]})]})})}),Object(I.jsx)(O.a,{children:Object(I.jsx)(p.a,{sx:V,align:"left",children:"Loan Amount:"})}),Object(I.jsx)(O.a,{children:Object(I.jsx)(p.a,{sx:V,className:"Loan-list-cell-value",align:"left",children:Object(I.jsxs)(x.a,{container:!0,direction:"row",alignItems:"left",children:[Object(I.jsx)(k.a,{}),Object(I.jsx)("span",{style:{marginTop:"2px"},children:Object(C.e)(Math.round(e.loanAmount/T.LAMPORTS_PER_SOL))})]})})}),Object(I.jsx)(O.a,{children:Object(I.jsx)(p.a,{sx:V,align:"left",children:"Date Opened:"})}),Object(I.jsx)(O.a,{children:Object(I.jsx)(p.a,{sx:V,className:"Loan-list-cell-value",align:"left",children:Object(I.jsxs)(x.a,{container:!0,direction:"row",alignItems:"left",children:[Object(I.jsx)(k.a,{}),Object(I.jsx)("span",{style:{marginTop:"2px"},children:e.dateOpened})]})})})]})})})}),Object(I.jsx)(m.a,{children:Object(I.jsx)(P.a,{loanAccount:e.loanAccount,loanAmount:e.loanAmount,buttonSize:"small",text:"Close Loan"})})]}),Object(I.jsx)("br",{})]},e.timestamp)}))})]})}return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(E.a,{}),Object(I.jsx)("br",{}),Object(I.jsx)(u.a,{theme:H,children:Object(I.jsx)(d.a,{component:g.a,children:Object(I.jsxs)(f.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(I.jsx)(h.a,{children:Object(I.jsxs)(O.a,{children:[Object(I.jsx)(p.a,{children:"Collateral Amount (SOL)"}),Object(I.jsx)(p.a,{align:"right",children:"SOL/USD Market Price"}),Object(I.jsx)(p.a,{align:"right",children:"Loan Amount"}),Object(I.jsx)(p.a,{align:"right",children:"Date Opened"}),Object(I.jsx)(p.a,{align:"right"})]})}),Object(I.jsx)(S.a,{children:J.map((function(e){return Object(I.jsxs)(O.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(I.jsx)(p.a,{component:"th",scope:"row",children:e.collateral/T.LAMPORTS_PER_SOL}),Object(I.jsxs)(p.a,{align:"right",children:["$",e.marketPrice]}),Object(I.jsx)(p.a,{align:"right",children:Object(C.e)(Math.round(e.loanAmount/T.LAMPORTS_PER_SOL))}),Object(I.jsx)(p.a,{align:"right",children:e.dateOpened}),Object(I.jsx)(p.a,{align:"right",children:Object(I.jsx)(P.a,{loanAccount:e.loanAccount,loanAmount:e.loanAmount,buttonSize:"small",text:"Close Loan"})})]},e.timestamp)}))})]})})})]})}return null==M.list?z?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(E.a,{}),Object(I.jsxs)(s.a,{component:"div",children:[Object(I.jsx)(o.a,{sx:{fontSize:"h5.fontSize",m:1},children:"No Open Loans"}),Object(I.jsx)("img",{className:"Banana-peel",src:"/BananaPeel.png",alt:"No Loans"})]})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(E.a,{}),Object(I.jsxs)(s.a,{component:"div",children:[Object(I.jsx)(o.a,{sx:{fontSize:"h5.fontSize",m:1},children:"You Have No Loans Currently Open With Wallet ID:"}),Object(I.jsx)(o.a,{sx:{fontSize:"h8.fontSize",m:1},children:null===v||void 0===v?void 0:v.toString()}),Object(I.jsx)("img",{className:"Banana-peel",src:"/BananaPeel.png",alt:"No Loans"})]})]}):Object(I.jsx)(y.a,{})}}).call(this,n(11).Buffer)},36:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return O}));var r=n(60),a=n(61),c={screen:{windowHeight:0,windowWidth:0},oraclePrices:{SOL_USD:null,BANANA_USD:null,KONG_USD:null,timer:null},tab:0},i=function(e){return Object(r.a)("app/SET_SCREEN",{screen:e})},s=function(e){return Object(r.a)("app/SET_ARB_TRANSACTION_SIGNATURE",{arbTransactionSignature:e})},o=function(e){return Object(r.a)("app/SET_ORACLE_PRICES",{SOL_USD:e.SOL_USD,BANANA_USD:e.BANANA_USD,KONG_USD:e.KONG_USD})},l=function(e){return Object(r.a)("app/SET_ORACLE_TIMER",{oracleTimer:e})},u=function(e){return Object(r.a)("app/SET_TAB",{tab:e})};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_SCREEN":return Object(a.a)(e,(function(e){e.screen=t.payload.screen}));case"app/SET_ARB_TRANSACTION_SIGNATURE":return Object(a.a)(e,(function(e){e.arbTransactionSignature=t.payload.arbTransactionSignature}));case"app/SET_TAB":return Object(a.a)(e,(function(e){e.tab=t.payload.tab}));case"app/SET_ORACLE_PRICES":return Object(a.a)(e,(function(e){e.oraclePrices.SOL_USD=t.payload.SOL_USD,e.oraclePrices.BANANA_USD=t.payload.BANANA_USD,e.oraclePrices.KONG_USD=t.payload.KONG_USD}));case"app/SET_ORACLE_TIMER":return Object(a.a)(e,(function(e){e.oraclePrices.timer&&clearInterval(e.oraclePrices.timer),e.oraclePrices.timer=t.payload.oracleTimer}));default:return e}}var j=function(e){return e.app.screen},d=function(e){return e.app.arbTransactionSignature},f=function(e){return e.app.tab},O=function(e){return e.app.oraclePrices}},363:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var r=n(2),a=n.n(r),c=n(18),i=n(6),s=(n(599),n(13)),o=n(372),l=n(68),u=n(100),b=n(75),j=n(44),d=n(259),f=n(153),O=n(260),p=n(5),x=n(258),m=n(1),g=n(147),h=n.n(g),S=n(364),y=n(367),v=n(34),k=n(36),A=n(109),w=n.n(A),T=n(88),N=n(7),L=n(42),W=n(17),P=n(81),_=n(37),K=n(41),C=n(3),E=void 0,B=Object(s.a)(o.a)({"& label.MuiInputLabel":{color:"white"},"& label.MuiInputLabel-root":{color:"white"},"& label.Mui-focused":{color:"white"},"& .MuiInput-underline:after":{borderBottomColor:"green"},"& .MuiInputBase-root":{color:"white",backgroundColor:"transparent"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"green"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"green"}}}),I=Object(x.a)({link:{color:"#ffffff",display:"flex",alignItems:"right",textDecoration:"underline","&:hover":{color:"#000000"}},icon:{fontSize:20}});function D(e,t){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.PublicKey.findProgramAddress([t.toBuffer(),L.b.toBuffer(),n.toBuffer()],W.C);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){var t=Object(_.c)().connection,n=Object(_.d)(),r=n.publicKey,s=n.sendTransaction,o=Object(m.useState)(!1),x=Object(c.a)(o,2),g=x[0],A=x[1],R=Object(m.useState)("BANANA"),M=Object(c.a)(R,2),U=M[0],F=M[1],z=Object(m.useState)(""),G=Object(c.a)(z,2),H=G[0],J=G[1],V=Object(v.b)(),X=Object(v.c)(k.b),Z=I(),q=Object(P.a)();function Y(e){Object(K.f)(e.target.value)?J(Object(K.f)(e.target.value)):""===e.target.value&&J("")}var Q=Object(m.useCallback)((function(){J(""),F("BANANA"===U?"KONG":"BANANA")}),[U]),$=Object(m.useCallback)(Object(i.a)(a.a.mark((function n(){var c,i,o,l,u,b,j,d,f,O,x,m,g;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=3;break}return q("error","Wallet not connected!"),n.abrupt("return");case 3:return A(!0),c="",n.prev=5,o=Object(p.struct)([Object(p.u8)("instruction"),Object(p.nu64)("lamports")]),l=e.alloc(o.span),o.encode({instruction:3,lamports:Object(K.d)(H)*N.LAMPORTS_PER_SOL},l),n.next=11,D(r,W.e);case 11:return u=n.sent,n.next=14,N.PublicKey.findProgramAddress([W.s.toBuffer(),e.from(W.f)],W.v);case 14:return b=n.sent,n.next=17,D(r,W.a);case 17:return j=n.sent,d=[],n.next=21,t.getAccountInfo(u,"finalized");case 21:return n.sent||(f=Object(p.struct)([Object(p.u8)("instruction")]),O=e.alloc(f.span),f.encode({instruction:0},O),d.push(new N.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:W.e,isSigner:!1,isWritable:!1},{pubkey:W.D,isSigner:!1,isWritable:!1},{pubkey:L.b,isSigner:!1,isWritable:!1},{pubkey:W.w,isSigner:!1,isWritable:!1}],programId:W.C,data:O}))),d.push(new N.TransactionInstruction({keys:[{pubkey:W.s,isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:W.a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:W.e,isSigner:!1,isWritable:!0},{pubkey:b[0],isSigner:!1,isWritable:!1},{pubkey:W.h,isSigner:!1,isWritable:!1},{pubkey:W.g,isSigner:!1,isWritable:!1},{pubkey:L.b,isSigner:!1,isWritable:!1}],programId:W.v,data:l})),n.next=26,t.getTokenAccountBalance(j);case 26:if(x=n.sent,!((m=x.value.uiAmount)&&m<=Object(K.d)(H))){n.next=30;break}throw Error("Insufficient wallet balance of ".concat(m.toFixed(5)," Bananas for transaction of ").concat(H," Bananas."));case 30:return q("info","Burn Request Approval Needed"),g=[],n.next=34,s((i=new N.Transaction).add.apply(i,d),t,{signers:g});case 34:return c=n.sent,q("info","Transaction sent:",c),V(Object(k.f)(c)),n.next=39,t.confirmTransaction(c,"processed");case 39:q("success","Transaction successful!",c),A(!1),J(""),n.next=50;break;case 44:return n.prev=44,n.t0=n.catch(5),A(!1),V(Object(k.f)()),q("error","Transaction failed! ".concat(null===n.t0||void 0===n.t0?void 0:n.t0.message),c),n.abrupt("return");case 50:case"end":return n.stop()}}),n,null,[[5,44]])}))),[V,H,t,q,r,s]),ee=Object(m.useCallback)(Object(i.a)(a.a.mark((function n(){var c,i,o,l,u,b,j,d,f,O,x,m,g;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=3;break}return q("error","Wallet not connected!"),n.abrupt("return");case 3:return A(!0),c="",n.prev=5,o=Object(p.struct)([Object(p.u8)("instruction"),Object(p.nu64)("lamports")]),l=e.alloc(o.span),o.encode({instruction:2,lamports:Object(K.d)(H)*N.LAMPORTS_PER_SOL},l),n.next=11,D(r,W.e);case 11:return u=n.sent,n.next=14,D(r,W.a);case 14:return b=n.sent,n.next=17,N.PublicKey.findProgramAddress([W.s.toBuffer(),e.from(W.b)],W.v);case 17:return j=n.sent,d=[],n.next=21,t.getAccountInfo(b,"finalized");case 21:return n.sent||(f=Object(p.struct)([Object(p.u8)("instruction")]),O=e.alloc(f.span),f.encode({instruction:0},O),d.push(new N.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:W.a,isSigner:!1,isWritable:!1},{pubkey:W.D,isSigner:!1,isWritable:!1},{pubkey:L.b,isSigner:!1,isWritable:!1},{pubkey:W.w,isSigner:!1,isWritable:!1}],programId:W.C,data:O}))),d.push(new N.TransactionInstruction({keys:[{pubkey:W.s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:W.e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:W.a,isSigner:!1,isWritable:!0},{pubkey:j[0],isSigner:!1,isWritable:!1},{pubkey:W.h,isSigner:!1,isWritable:!1},{pubkey:W.g,isSigner:!1,isWritable:!1},{pubkey:L.b,isSigner:!1,isWritable:!1}],programId:W.v,data:l})),n.next=26,t.getTokenAccountBalance(u);case 26:if(x=n.sent,!((m=x.value.uiAmount)&&m<=Object(K.d)(H))){n.next=30;break}throw Error("Insufficient wallet balance of ".concat(m.toFixed(5)," Kong for transaction of ").concat(H," Kong."));case 30:return q("info","Burn Request Approval Needed"),g=[],n.next=34,s((i=new N.Transaction).add.apply(i,d),t,{signers:g});case 34:return c=n.sent,q("info","Transaction sent:",c),V(Object(k.f)(c)),n.next=39,t.confirmTransaction(c,"processed");case 39:q("success","Transaction successful!",c),A(!1),J(""),n.next=50;break;case 44:return n.prev=44,n.t0=n.catch(5),A(!1),V(Object(k.f)()),q("error","Transaction failed! ".concat(null===n.t0||void 0===n.t0?void 0:n.t0.message),c),n.abrupt("return");case 50:case"end":return n.stop()}}),n,null,[[5,44]])}))),[V,H,t,q,r,s]);return"BANANA"===U?Object(C.jsx)("div",{className:"Arbitrage-outter-container",children:Object(C.jsxs)("div",{className:"Arbitrage-container",children:[Object(C.jsx)(l.a,{id:"modal-modal-title",variant:"h6",component:"h2",align:"center",color:"white",children:"BANANA / KONG"}),Object(C.jsx)("br",{}),Object(C.jsx)(B,{variant:"outlined",autoFocus:!0,fullWidth:!0,type:"text",value:H,onChange:Y.bind(E),label:"Bananas to Burn for Kong",id:"banana-amount"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(u.a,{variant:"contained",color:"warning",onClick:Q,className:"Arb-change-direction-button",children:"Change Burn Direction"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(S.a,{amount:H}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(b.a,{sx:{flexGrow:1},children:Object(C.jsxs)(j.a,{container:!0,spacing:2,children:[Object(C.jsx)(j.a,{item:!0,xs:10,children:Object(C.jsxs)(l.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"left",color:"white",children:["Slippage Tolerance",Object(C.jsx)(d.a,{title:"The maximum difference between your estimated price and execution price.",placement:"right",children:Object(C.jsx)(h.a,{style:{position:"relative",marginLeft:"2px",top:"5px"},fontSize:"small",color:"primary"})})]})}),Object(C.jsx)(j.a,{item:!0,xs:2,children:Object(C.jsx)(l.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"right",color:"white",style:{position:"relative",top:"5px"},children:"0.5%"})})]})}),Object(C.jsx)("br",{}),g?Object(C.jsx)(b.a,{sx:{flexGrow:1},children:Object(C.jsxs)(j.a,{container:!0,spacing:2,children:[Object(C.jsx)(j.a,{item:!0,xs:7,children:Object(C.jsx)(f.a,{color:"success"})}),Object(C.jsx)(j.a,{item:!0,xs:5,children:X&&Object(C.jsxs)(O.a,{className:Z.link,href:"https://explorer.solana.com/tx/".concat(X,"?cluster=").concat(T.a),target:"_blank",align:"right",children:["Transaction",Object(C.jsx)(w.a,{className:Z.icon})]})})]})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(u.a,{onClick:$,variant:"contained",children:"Burn Bananas for Kong"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}):Object(C.jsx)("div",{className:"Arbitrage-outter-container",children:Object(C.jsxs)("div",{className:"Arbitrage-container",children:[Object(C.jsx)(l.a,{id:"modal-modal-title",variant:"h6",component:"h2",align:"center",color:"white",children:"KONG / BANANA"}),Object(C.jsx)("br",{}),Object(C.jsx)(B,{variant:"outlined",autoFocus:!0,fullWidth:!0,type:"text",value:H,onChange:Y.bind(E),label:"Kong to Burn for Bananas",id:"kong-amount"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(u.a,{variant:"contained",color:"warning",onClick:Q,className:"Arb-change-direction-button",children:"Change Burn Direction"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(y.a,{amount:H}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(b.a,{sx:{flexGrow:1},children:Object(C.jsxs)(j.a,{container:!0,spacing:2,children:[Object(C.jsx)(j.a,{item:!0,xs:10,children:Object(C.jsxs)(l.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"left",color:"white",children:["Slippage Tolerance",Object(C.jsx)(d.a,{title:"The maximum difference between your estimated price and execution price.",placement:"right",children:Object(C.jsx)(h.a,{style:{position:"relative",marginLeft:"2px",top:"5px"},fontSize:"small",color:"primary"})})]})}),Object(C.jsx)(j.a,{item:!0,xs:2,children:Object(C.jsx)(l.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"right",color:"white",style:{position:"relative",top:"5px"},children:"0.5%"})})]})}),Object(C.jsx)("br",{}),g?Object(C.jsx)(b.a,{sx:{flexGrow:1},children:Object(C.jsxs)(j.a,{container:!0,spacing:2,children:[Object(C.jsx)(j.a,{item:!0,xs:7,children:Object(C.jsx)(f.a,{color:"success"})}),Object(C.jsx)(j.a,{item:!0,xs:5,children:X&&Object(C.jsxs)(O.a,{className:Z.link,href:"https://explorer.solana.com/tx/".concat(X,"?cluster=").concat(T.a),target:"_blank",align:"right",children:["Transaction",Object(C.jsx)(w.a,{className:Z.icon})]})})]})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(u.a,{onClick:ee,variant:"contained",children:"Burn Kong for Bananas"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})})}}).call(this,n(11).Buffer)},364:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(36),c=n(41),i=n(97),s=n(3),o=function(e){var t=Object(r.c)(a.c);return Object(s.jsx)(i.a,{variant:"outlined",fullWidth:!0,type:"text",label:"Est. KONG Received",id:"loan-amount",value:Object(c.a)(Object(c.d)(e.amount),t.KONG_USD,"BANANA")})}},365:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(36),c=n(41),i=n(97),s=n(3),o=function(e){var t=Object(r.c)(a.c);return Object(s.jsx)(i.a,{variant:"outlined",fullWidth:!0,type:"text",label:"Est. Loan Amount",id:"loan-amount",value:Object(c.c)(Object(c.d)(e.collateral),t.SOL_USD)})}},367:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(36),c=n(41),i=n(97),s=n(3),o=function(e){var t=Object(r.c)(a.c);return Object(s.jsx)(i.a,{variant:"outlined",fullWidth:!0,type:"text",label:"Est. BANANA Received",id:"loan-amount",value:Object(c.b)(Object(c.d)(e.amount),t.KONG_USD,"KONG")})}},39:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return x}));var r=n(60),a=n(61),c=n(17),i={notify:null,list:[],openLoanTransactionSignature:null,walletKey:null,scan:!1,scanStartTime:null,scanTimer:null,openLoanModal:!1},s=function(e,t){return Object(r.a)("loans/SET_LOAN_LIST",{loans:e,walletKey:t})},o=function(e){return Object(r.a)("loans/SET_OPEN_LOAN_TRANSACTION_SIGNATURE",{openLoanTransactionSignature:e})},l=function(e){return Object(r.a)("loans/SET_NOTIFIER",{notify:e})},u=function(e){return Object(r.a)("loans/SET_LOAN_SCAN",{scan:e})},b=function(e,t){return Object(r.a)("loans/SET_LOAN_SCAN_TIMER",{scanStartTime:e,scanTimer:t})},j=function(){return Object(r.a)("loans/CHECK_LOAN_SCAN_TIMEOUT")},d=function(e){return Object(r.a)("loans/SET_OPEN_LOAN_MODAL",{openLoanModal:e})};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loans/SET_LOAN_LIST":return Object(a.a)(e,(function(e){e.list=t.payload.loans,e.walletKey=t.payload.walletKey,e.scan=!1,e.scanTimer&&(clearInterval(e.scanTimer),e.scanStartTime=null,e.scanTimer=null)}));case"loans/SET_OPEN_LOAN_TRANSACTION_SIGNATURE":return Object(a.a)(e,(function(e){e.openLoanTransactionSignature=t.payload.openLoanTransactionSignature}));case"loans/SET_NOTIFIER":return Object(a.a)(e,(function(e){e.notify=t.payload.notify}));case"loans/CHECK_LOAN_SCAN_TIMEOUT":return Object(a.a)(e,(function(e){var t=(new Date).getTime();e.scanTimer&&e.scanStartTime&&t-e.scanStartTime>1e3*c.i&&(e.notify&&e.notify("warning","Timeout of "+c.i+" Seconds Reached for Loan List Refresh"),clearInterval(e.scanTimer),e.scanStartTime=null,e.scanTimer=null,e.scan=!1)}));case"loans/SET_LOAN_SCAN":return Object(a.a)(e,(function(e){e.scan=t.payload.scan}));case"loans/SET_LOAN_SCAN_TIMER":return Object(a.a)(e,(function(e){e.scanTimer&&null===t.payload.scanTimer&&clearInterval(e.scanTimer),e.scanStartTime=t.payload.scanStartTime,e.scanTimer=t.payload.scanTimer}));case"loans/SET_OPEN_LOAN_MODAL":return Object(a.a)(e,(function(e){e.openLoanModal=t.payload.openLoanModal}));default:return e}}var O=function(e){return e.loans},p=function(e){return e.loans.openLoanModal},x=function(e){return e.loans.openLoanTransactionSignature}},396:function(e,t,n){},397:function(e,t,n){},403:function(e,t,n){},404:function(e,t){},407:function(e,t){},41:function(e,t,n){"use strict";function r(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function a(e){return parseFloat(e)?parseFloat(e):0}function c(e){var t=e.replaceAll(/[^0-9.]/g,"");return t.slice(0,-1).match(/\./)&&"."===t.slice(-1)?t.slice(0,-1):t}function i(e,t){if(e>0&&t){var n=t.price*e,r=parseFloat((n/1.5).toFixed(5)),a=new Intl.NumberFormat("en-US");return a.format(e).toString()+" *  $"+a.format(t.price).toString()+" / 1.5 = "+a.format(r).toString()}return"0"}function s(e,t,n){if(e>0&&t){var r=parseFloat((e/t.price).toFixed(5)),a=new Intl.NumberFormat("en-US");return a.format(e).toString()+" "+n+"  /  $"+a.format(t.price).toString()+" = "+a.format(r).toString()}return"0"}function o(e,t,n){if(e>0&&t){var r=parseFloat((e*t.price).toFixed(5)),a=new Intl.NumberFormat("en-US");return a.format(e).toString()+" "+n+"  *  $"+a.format(t.price).toString()+" = "+a.format(r).toString()}return"0"}n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}))},414:function(e,t){},429:function(e,t){},430:function(e,t){},491:function(e,t){},493:function(e,t){},507:function(e,t){},511:function(e,t){},513:function(e,t){},523:function(e,t){},525:function(e,t){},556:function(e,t){},558:function(e,t){},565:function(e,t){},566:function(e,t){},590:function(e,t){},594:function(e,t){},595:function(e,t){},599:function(e,t,n){},60:function(e,t,n){"use strict";function r(e,t){return{type:e,payload:t}}n.d(t,"a",(function(){return r}))},600:function(e,t,n){},601:function(e,t,n){},602:function(e,t){},603:function(e,t){},608:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return ee}));var r=n(1),a=n.n(r),c=n(54),i=n.n(c),s=(n(396),n(397),n(190)),o=(n(403),n(88)),l=n(37),u=n(111),b=n(689),j=n(688),d=n(75),f=n(44),O=n(257),p=n(3),x=function(){var e=Object(l.d)().publicKey;return Object(p.jsx)(O.a,{featuredWallets:4,logo:"/Bananas-90px.png",children:Object(p.jsx)(O.b,{children:e?null:"Connect Wallet",className:"Connect-wallet-button"})})},m=n(17),g=n(34),h=n(36),S=function(){var e=Object(g.c)(h.d).windowWidth<m.r;return Object(p.jsx)(j.a,{position:"static",className:"App-bar",children:Object(p.jsx)(b.a,{variant:"regular",children:Object(p.jsx)(d.a,{sx:{flexGrow:1},children:Object(p.jsxs)(f.a,{container:!0,spacing:2,children:[Object(p.jsx)(f.a,{item:!0,xs:e?6:9,children:Object(p.jsx)("img",{src:"/kong-logo.png",alt:"Kong",className:"App-logo"})}),e?Object(p.jsx)(f.a,{item:!0,xs:6,children:Object(p.jsx)("div",{style:{textAlign:"right"},children:Object(p.jsx)(x,{})})}):Object(p.jsx)(f.a,{item:!0,xs:3,children:Object(p.jsx)("div",{style:{textAlign:"right"},children:Object(p.jsx)(x,{})})})]})})})})},y=n(691),v=n(28),k=n(193),A=n(13),w=n(619),T=n(357),N=n(256),L=n(373),W=n(687),P=n(690);function _(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}function K(){var e=Object(g.b)(),t=Object(g.c)(h.e),n=Object(N.a)({components:{MuiAppBar:{styleOverrides:{root:{backgroundColor:"transparent"}}},MuiTabs:{styleOverrides:{indicator:{backgroundColor:"yellow"}}}}});return Object(p.jsx)(L.a,{theme:n,children:Object(p.jsx)(d.a,{sx:{width:"100%"},children:Object(p.jsx)(j.a,{position:"static",children:Object(p.jsxs)(W.a,{value:t,onChange:function(t,n){e(Object(h.j)(n))},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(p.jsx)(P.a,Object(v.a)({label:"LOANS"},_(0))),Object(p.jsx)(P.a,Object(v.a)({label:"ARBITRAGE"},_(1)))]})})})})}var C=n(363);function E(e){var t=e.children,n=e.value,r=e.index,a=Object(k.a)(e,["children","value","index"]);return Object(p.jsxs)("div",Object(v.a)(Object(v.a)({role:"tabpanel",hidden:n!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r)},a),{},{children:[Object(p.jsx)("br",{}),n===r&&t]}))}var B=function(){var e=Object(l.d)().publicKey,t=Object(g.c)(h.e),n=Object(A.a)(w.a)((function(e){var t=e.theme;return Object(v.a)(Object(v.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));return Object(p.jsx)(f.a,{container:!0,spacing:2,columns:16,alignItems:"center",justifyContent:"center",children:Object(p.jsx)(f.a,{item:!0,xs:12,children:Object(p.jsx)(n,{className:"App-center-box",children:e?Object(p.jsxs)("div",{children:[Object(p.jsx)(K,{}),Object(p.jsx)(E,{value:t,index:0,children:Object(p.jsx)(T.a,{})}),Object(p.jsx)(E,{value:t,index:1,children:Object(p.jsx)(C.a,{})})]}):Object(p.jsx)("div",{className:"Wallet-button-div-middle",children:Object(p.jsx)(x,{})})})})})},I=n(7),D=n(97),R=n(81),M=(n(600),n(68)),U=n(2),F=n.n(U),z=n(27),G=n(6),H=(n(601),n(110)),J=function(){var e,t,n,a=Object(g.c)(h.c),c=Object(g.b)(),i=Object(r.useRef)(!0),s=Object(r.useMemo)((function(){return new I.Connection(Object(I.clusterApiUrl)(m.u))}),[]),o=Object(H.getPythProgramKeyForCluster)(m.u);return Object(r.useEffect)((function(){return function(){i.current=!1,c(Object(h.h)(null))}}),[c]),Object(r.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(G.a)(F.a.mark((function e(){var t,n,r,a,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e,t){var c,i=Object(z.a)(e);try{for(i.s();!(c=i.n()).done;){var s=c.value,o=Object(H.parseBaseData)(s.account.data);if(o)switch(H.AccountType[o.type]){case"Mapping":break;case"Product":if(t){var l=Object(H.parseProductData)(s.account.data),u=l.priceAccountKey,b=l.product;n[s.pubkey.toString()]=b,"11111111111111111111111111111111"!==u.toString()&&(r[u.toString()]=s.pubkey.toString())}break;case"Price":if(!t){var j=n[r[s.pubkey.toString()]];if(j){var d=Object(H.parsePriceData)(s.account.data);a[j.symbol]=d}}break;case"Test":break;default:throw new Error("Unknown account type: ".concat(o.type,". Try upgrading pyth-client."))}}}catch(f){i.e(f)}finally{i.f()}},e.next=3,s.getProgramAccounts(o,"finalized");case 3:t=e.sent,n={},r={},a={},a={},i(t,!0),i(t,!1),a&&c(Object(h.g)({SOL_USD:a["SOL/USD"],BANANA_USD:a["USDC/USD"],KONG_USD:a["ETH/USD"]}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.timer||(a.SOL_USD||e(),c(Object(h.h)(setInterval((function(){return e()}),5e3))))})),Object(p.jsxs)(f.a,{container:!0,spacing:2,children:[Object(p.jsx)(f.a,{item:!0,xs:4,children:Object(p.jsxs)(M.a,{component:"div",className:"Oracle-price-text",children:["BANANA/USD",Object(p.jsx)("br",{}),a.BANANA_USD?"$"+(null===(e=a.BANANA_USD)||void 0===e?void 0:e.price.toFixed(2)):""]})}),Object(p.jsx)(f.a,{item:!0,xs:4,children:Object(p.jsxs)(M.a,{component:"div",className:"Oracle-price-text",children:["SOL/USD",Object(p.jsx)("br",{}),a.SOL_USD?"$"+(null===(t=a.SOL_USD)||void 0===t?void 0:t.price.toFixed(2)):"Loading ..."]})}),Object(p.jsx)(f.a,{item:!0,xs:4,children:Object(p.jsxs)(M.a,{component:"div",className:"Oracle-price-text",children:["KONG/USD",Object(p.jsx)("br",{}),a.KONG_USD?"$"+(null===(n=a.KONG_USD)||void 0===n?void 0:n.price.toFixed(2)):""]})})]})},V=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"Bottom-spacer-hidden"}),Object(p.jsxs)(w.a,{elevation:3,className:"Bottom-bar",children:[Object(p.jsx)(y.a,{orientation:"horizontal",flexItem:!0,className:"App-divider"}),Object(p.jsx)(b.a,{variant:"regular",children:Object(p.jsx)(d.a,{sx:{flexGrow:1},children:Object(p.jsx)(J,{})})}),Object(p.jsx)(b.a,{className:"Bottom-bar-notification",variant:"regular",children:Object(p.jsx)(d.a,{sx:{flexGrow:1},children:Object(p.jsxs)(M.a,{component:"div",className:"Bottom-bar-notification-text",children:["THIS IS RUNNING ON DEVNET",Object(p.jsx)("br",{})]})})})]})]})},X=function(){var e=Object(R.a)(),t=o.a,n=Object(r.useMemo)((function(){return Object(I.clusterApiUrl)(t)}),[t]),a=Object(r.useMemo)((function(){return[Object(u.b)(),Object(u.c)(),Object(u.d)(),Object(u.a)(),Object(u.f)({network:t}),Object(u.e)({network:t})]}),[t]);return Object(p.jsx)(l.a,{endpoint:n,children:Object(p.jsxs)(l.b,{onError:function(t){return function(t){e("error","Wallet Error: ".concat(t.message))}(t)},wallets:a,autoConnect:!0,children:[Object(p.jsx)(S,{}),Object(p.jsx)(y.a,{orientation:"horizontal",flexItem:!0,className:"App-divider"}),Object(p.jsx)(D.b,{}),Object(p.jsx)("p",{children:Object(p.jsx)("br",{})}),Object(p.jsx)(B,{}),Object(p.jsx)(V,{})]})})},Z=function(){var e=Object(g.b)();return Object(r.useEffect)((function(){var t=function(){e(Object(h.i)({windowWidth:window.innerWidth,windowHeight:window.innerHeight}))};return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(p.jsx)(s.a,{maxSnack:5,children:Object(p.jsx)(X,{})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,693)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Y=n(192),Q=n(39),$=Object(Y.a)({app:h.a,loans:Q.e}),ee=Object(Y.b)($);i.a.render(Object(p.jsx)(g.a,{store:ee,children:Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(Z,{})})}),document.getElementById("root")),q()},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(258),a=n(626),c=n(109),i=n.n(c),s=n(190),o=n(1),l=n(88),u=n(3),b=Object(r.a)({notification:{display:"flex",alignItems:"center"},link:{color:"#ffffff",display:"flex",alignItems:"center",marginLeft:16,textDecoration:"underline","&:hover":{color:"#000000"}},icon:{fontSize:20,marginLeft:8}});function j(){var e=b(),t=Object(s.b)().enqueueSnackbar;return Object(o.useCallback)((function(n,r,c){t(Object(u.jsxs)("span",{className:e.notification,children:[r,c&&Object(u.jsxs)(a.a,{className:e.link,href:"https://explorer.solana.com/tx/".concat(c,"?cluster=").concat(l.a),target:"_blank",children:["Transaction",Object(u.jsx)(i.a,{className:e.icon})]})]}),{variant:n})}),[t,e])}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(9).e.Devnet},97:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return G}));var r=n(2),a=n.n(r),c=n(18),i=n(6),s=n(37),o=n(7),l=n(5),u=n(1),b=n(17),j=n(88),d=n(109),f=n.n(d),O=n(13),p=n(372),x=n(616),m=n(618),g=n(614),h=n(75),S=n(68),y=n(44),v=n(259),k=n(153),A=n(260),w=n(100),T=n(258),N=n(366),L=n.n(N),W=n(147),P=n.n(W),_=n(34),K=n(81),C=n(39),E=n(41),B=n(365),I=n(9),D=n(42),R=n(3),M=Object(O.a)(p.a)({"& label.MuiInputLabel":{color:"white"},"& label.MuiInputLabel-root":{color:"white"},"& label.Mui-focused":{color:"white"},"& .MuiInput-underline:after":{borderBottomColor:"green"},"& .MuiInputBase-root":{color:"white",backgroundColor:"transparent"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"green"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"green"}}}),U=Object(T.a)({link:{color:"#ffffff",display:"flex",alignItems:"right",textDecoration:"underline","&:hover":{color:"#000000"}},icon:{fontSize:20}});function F(e,t){return z.apply(this,arguments)}function z(){return(z=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PublicKey.findProgramAddress([t.toBuffer(),D.b.toBuffer(),n.toBuffer()],b.C);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(){var t=Object(s.c)().connection,n=Object(s.d)(),r=n.publicKey,d=n.sendTransaction,O=Object(u.useState)(""),p=Object(c.a)(O,2),T=p[0],N=p[1],W=Object(u.useState)(!1),z=Object(c.a)(W,2),G=z[0],H=z[1],J=Object(_.b)(),V=Object(K.a)(),X=Object(_.c)(C.c),Z=Object(_.c)(C.d),q=U(),Y=Object(u.useCallback)((function(){return J(Object(C.h)(!1))}),[J]);r||J(Object(C.h)(!1));var Q=Object(u.useCallback)(Object(i.a)(a.a.mark((function n(){var c,i,s,u,j,f,O,p,x,m,g,h,S,y,v,k,A,w,L;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=3;break}return V("error","Wallet not connected!"),n.abrupt("return");case 3:return c="",n.prev=4,H(!0),i=r,n.next=9,o.PublicKey.findProgramAddress([b.s.toBuffer(),e.from(b.b)],b.v);case 9:return s=n.sent,u=new o.Keypair,n.next=13,F(i,b.a);case 13:return j=n.sent,n.next=16,F(i,b.o);case 16:return f=n.sent,n.next=19,o.PublicKey.createWithSeed(u.publicKey,b.t,D.b);case 19:return O=n.sent,n.next=22,o.PublicKey.findProgramAddress([u.publicKey.toBuffer(),O.toBuffer()],b.v);case 22:return p=n.sent,x=new o.Transaction,n.t0=o.SystemProgram,n.t1=i,n.t2=u.publicKey,n.next=29,t.getMinimumBalanceForRentExemption(b.d);case 29:return n.t3=n.sent,n.t4=b.d,n.t5=b.v,n.t6={fromPubkey:n.t1,newAccountPubkey:n.t2,lamports:n.t3,space:n.t4,programId:n.t5},n.t7=n.t0.createAccount.call(n.t0,n.t6),n.t8=o.SystemProgram,n.t9=u.publicKey,n.t10=i,n.t11=O,n.t12=b.t,n.next=41,t.getMinimumBalanceForRentExemption(D.a.span);case 41:return n.t13=n.sent,n.t14=D.a.span,n.t15=D.b,n.t16={basePubkey:n.t9,fromPubkey:n.t10,newAccountPubkey:n.t11,seed:n.t12,lamports:n.t13,space:n.t14,programId:n.t15},n.t17=n.t8.createAccountWithSeed.call(n.t8,n.t16),n.t18=D.c.createInitAccountInstruction(D.b,b.o,O,p[0]),m=[n.t7,n.t17,n.t18],n.next=50,t.getAccountInfo(j,"finalized");case 50:return n.sent||(g=Object(l.struct)([Object(l.u8)("instruction")]),h=e.alloc(g.span),g.encode({instruction:0},h),m.push(new o.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:b.a,isSigner:!1,isWritable:!1},{pubkey:b.D,isSigner:!1,isWritable:!1},{pubkey:D.b,isSigner:!1,isWritable:!1},{pubkey:b.w,isSigner:!1,isWritable:!1}],programId:b.C,data:h}))),n.next=54,t.getAccountInfo(f,"finalized");case 54:return n.sent||(S=Object(l.struct)([Object(l.u8)("instruction")]),y=e.alloc(S.span),S.encode({instruction:0},y),m.push(new o.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:b.o,isSigner:!1,isWritable:!1},{pubkey:b.D,isSigner:!1,isWritable:!1},{pubkey:D.b,isSigner:!1,isWritable:!1},{pubkey:b.w,isSigner:!1,isWritable:!1}],programId:b.C,data:y}))),v=Object(l.struct)([Object(l.u8)("instruction"),Object(l.nu64)("lamports")]),k=e.alloc(v.span),v.encode({instruction:0,lamports:Object(E.d)(T)*o.LAMPORTS_PER_SOL},k),m.push(new o.TransactionInstruction({keys:[{pubkey:b.s,isSigner:!1,isWritable:!1},{pubkey:b.l,isSigner:!1,isWritable:!0},{pubkey:u.publicKey,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:b.a,isSigner:!1,isWritable:!0},{pubkey:s[0],isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:b.B,isSigner:!1,isWritable:!1},{pubkey:b.A,isSigner:!1,isWritable:!1},{pubkey:b.o,isSigner:!1,isWritable:!0},{pubkey:b.z,isSigner:!1,isWritable:!0},{pubkey:b.m,isSigner:!1,isWritable:!0},{pubkey:b.n,isSigner:!1,isWritable:!1},{pubkey:b.x,isSigner:!1,isWritable:!0},{pubkey:b.p,isSigner:!1,isWritable:!1},{pubkey:b.y,isSigner:!1,isWritable:!1},{pubkey:D.b,isSigner:!1,isWritable:!1},{pubkey:b.k,isSigner:!1,isWritable:!1}],programId:b.v,data:k})),x.add.apply(x,m),n.next=63,t.getBalance(r);case 63:if(A=n.sent,!((w=A/o.LAMPORTS_PER_SOL)<=Object(E.d)(T))){n.next=67;break}throw Error("Insufficient wallet balance of ".concat(w.toFixed(5)," SOL for transaction of ").concat(T," SOL."));case 67:return L=[u],V("info","Open Loan Request Approval Needed"),n.next=71,d(x,t,{signers:L});case 71:return c=n.sent,V("info","Transaction sent:",c),J(Object(C.i)(c)),n.next=76,t.confirmTransaction(c,"finalized");case 76:V("success","Transaction successful!",c),J(Object(C.j)(!0)),J(Object(C.i)(null)),Y(),H(!1),N(""),n.next=97;break;case 84:if(n.prev=84,n.t19=n.catch(4),!(n.t19 instanceof I.p)){n.next=93;break}return V("error","Transaction failed! ".concat(null===n.t19||void 0===n.t19?void 0:n.t19.message),c),H(!1),J(Object(C.i)(null)),n.abrupt("return");case 93:return V("error","Transaction failed! ".concat(null===n.t19||void 0===n.t19?void 0:n.t19.message),c),H(!1),J(Object(C.i)(null)),n.abrupt("return");case 97:case"end":return n.stop()}}),n,null,[[4,84]])}))),[r,d,t,T,J,V,Y]);return Object(R.jsx)(x.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:X,onClose:Y,closeAfterTransition:!0,BackdropComponent:m.a,BackdropProps:{timeout:500,onClick:void 0},children:Object(R.jsx)(g.a,{in:X,children:Object(R.jsxs)(h.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,border:"2px solid #000",boxShadow:24,p:4},className:"Open-loan-modal",children:[Object(R.jsx)(S.a,{id:"modal-modal-title",variant:"h6",component:"h2",align:"center",color:"white",children:"Open a New Loan"}),Object(R.jsx)("br",{}),Object(R.jsx)(M,{variant:"outlined",autoFocus:!0,fullWidth:!0,type:"text",label:"Collateral Amount in SOL",id:"collateral-amount",value:T,onChange:function(e){Object(E.f)(e.target.value)?N(Object(E.f)(e.target.value)):""===e.target.value&&N("")}.bind(undefined)}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:Object(R.jsx)(L.a,{style:{marginLeft:"45%"},color:"primary",fontSize:"large"})}),Object(R.jsx)("br",{}),Object(R.jsx)(B.a,{collateral:T}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)(h.a,{sx:{flexGrow:1},children:Object(R.jsxs)(y.a,{container:!0,spacing:2,children:[Object(R.jsx)(y.a,{item:!0,xs:10,children:Object(R.jsxs)(S.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"left",color:"white",children:["Slippage Tolerance",Object(R.jsx)(v.a,{title:"The maximum difference between your estimated price and execution price.",placement:"right",children:Object(R.jsx)(P.a,{style:{position:"relative",marginLeft:"2px",top:"5px"},fontSize:"small",color:"primary"})})]})}),Object(R.jsx)(y.a,{item:!0,xs:2,children:Object(R.jsx)(S.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"right",color:"white",style:{position:"relative",top:"5px"},children:"0.5%"})})]})}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),G?Object(R.jsx)(h.a,{sx:{flexGrow:1},children:Object(R.jsxs)(y.a,{container:!0,spacing:2,children:[Object(R.jsx)(y.a,{item:!0,xs:7,children:Object(R.jsx)(k.a,{color:"success"})}),Object(R.jsx)(y.a,{item:!0,xs:5,children:Z&&Object(R.jsxs)(A.a,{className:q.link,href:"https://explorer.solana.com/tx/".concat(Z,"?cluster=").concat(j.a),target:"_blank",align:"right",children:["Transaction",Object(R.jsx)(f.a,{className:q.icon})]})})]})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(w.a,{onClick:Q,variant:"contained",children:"Open Loan"}),"\xa0\xa0\xa0",Object(R.jsx)(w.a,{onClick:Y,variant:"contained",color:"warning",children:"Cancel"})]})]})})})}}).call(this,n(11).Buffer)}},[[608,1,2]]]);
//# sourceMappingURL=main.4b359592.chunk.js.map