(this.webpackJsonpkong=this.webpackJsonpkong||[]).push([[0],{151:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(38),i=n(85),r=n(34),c=n(40),s=n(3),o=function(){var e=Object(a.d)().publicKey,t=Object(r.b)();return Object(s.jsx)("div",{children:Object(s.jsx)(i.a,{className:"Open-loan-button",onClick:function(){return t(Object(c.h)(!0))},disabled:!e,variant:"contained",children:"Open New Loan"})})}},17:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"r",(function(){return r})),n.d(t,"j",(function(){return c})),n.d(t,"u",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"t",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"s",(function(){return d})),n.d(t,"C",(function(){return j})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"B",(function(){return _})),n.d(t,"A",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return x})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return S})),n.d(t,"z",(function(){return k})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return A})),n.d(t,"x",(function(){return T})),n.d(t,"q",(function(){return N})),n.d(t,"v",(function(){return L})),n.d(t,"D",(function(){return P})),n.d(t,"y",(function(){return W})),n.d(t,"w",(function(){return C}));var a=n(7),i=60,r=768,c=1024,s="devnet",o="kong_mint",l="banana_mint",u="PROGRAM_VAULT",b=257,d=(new a.PublicKey("4ZKXWewnacnm2ApTJC68DzoNHaJg6gtTXZA3LLumfMtX"),new a.PublicKey("9kyWPBeU9RnjxnWkkYKYVeShAwQgPDmxujr77thREZtN"),new a.PublicKey("EvcBDSzxPM5WjQjgZGiewFpyKW9cEAVGoQeBkRMZo7uU")),j=new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),p=new a.PublicKey("98ct6KjzotM4e6Hn2PdBhYTJfi7yYDBhxVjcC21H7oUF"),f=new a.PublicKey("CY5mvkTFqgiHQd4Fbb5ykv6aKCpczJVbxWxFXpCZZCJc"),O=new a.PublicKey("HADUDXZsxpv5Nb4M81EaAHh6VxkSKkuDtdUsPHXm3Sv9"),_=new a.PublicKey("3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E"),h=new a.PublicKey("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix"),m=(new a.PublicKey("5SSkXsEKQepHHAewytPVwdej4epN1nxgLVM84L4KXgy7"),new a.PublicKey("5SSkXsEKQepHHAewytPVwdej4epN1nxgLVM84L4KXgy7"),new a.PublicKey("2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu")),x=new a.PublicKey("EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw"),g=new a.PublicKey("MarBmsSgKXdrN1egZf5sqe1TMai9K1rChYNDJgjq7aD"),v=new a.PublicKey("8szGkuLTAux9XMgZ2vtY39jVSowEcpBfFfD8hXSEqdGC"),y=new a.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),S=new a.PublicKey("3JLPCS1qM2zRw3Dp6V4hZnYHd4toMNPkNesXdX9tg6KM"),k=new a.PublicKey("UefNb6z6yvArqe4cJHTXCqStRsKmWhGxnZzuHbikP5Q"),w=new a.PublicKey("7GgPYjS5Dza89wV6FpZ23kUJRG5vbQ1GM25ezspYFSoE"),A=new a.PublicKey("EyaSjUtSgo9aRD1f8LWXwdvkpDTmXAW54yoSHZRF14WL"),T=new a.PublicKey("Du3Ysj1wKbxPKkuPPnvzQLQh8oMSVifs3jGZjJWXFmHN"),N=new a.PublicKey("8ZUcztoAEhpAeC2ixWewJKQJsSUGYSGPVAjkhDJYf5Gd"),L=new a.PublicKey("2vLPCe92GpHKJRGDp9GjZRzAyeLh6RtW1ACAi9n4Fa1u"),P=new a.PublicKey("11111111111111111111111111111111"),W=new a.PublicKey("11111111111111111111111111111111"),C=new a.PublicKey("SysvarRent111111111111111111111111111111111");new a.PublicKey("SysvarC1ock11111111111111111111111111111111"),new a.PublicKey("11111111111111111111111111111111")},254:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a=n(2),i=n.n(a),r=n(18),c=n(6),s=n(38),o=n(7),l=n(42),u=n(1),b=n(17),d=n(153),j=n(85),p=n(5),f=n(34),O=n(81),_=n(40),h=n(3);function m(e,t){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PublicKey.findProgramAddress([t.toBuffer(),l.b.toBuffer(),n.toBuffer()],b.C);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(t){var n=Object(s.c)().connection,a=Object(s.d)(),x=a.publicKey,g=a.sendTransaction,v=Object(u.useState)(!1),y=Object(r.a)(v,2),S=y[0],k=y[1],w=Object(f.b)(),A=Object(O.a)(),T=Object(u.useCallback)(Object(c.a)(i.a.mark((function a(){var r,c,s,u,d,j,f,O,h,v,y,S;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(x){a.next=3;break}return A("error","Wallet not connected!"),a.abrupt("return");case 3:return r="",a.prev=4,k(!0),c=x,s=new o.Keypair,a.next=10,m(c,b.a);case 10:return u=a.sent,a.next=13,o.PublicKey.createWithSeed(t.loanAccount,b.t,l.b);case 13:return d=a.sent,a.next=16,o.PublicKey.findProgramAddress([t.loanAccount.toBuffer(),d.toBuffer()],b.v);case 16:return j=a.sent,f=Object(p.struct)([Object(p.u8)("instruction")]),O=e.alloc(f.span),f.encode({instruction:1},O),h=(new o.Transaction).add(l.c.createApproveInstruction(l.b,u,s.publicKey,c,[],t.loanAmount),new o.TransactionInstruction({keys:[{pubkey:b.s,isSigner:!1,isWritable:!1},{pubkey:b.l,isSigner:!1,isWritable:!0},{pubkey:t.loanAccount,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:b.a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s.publicKey,isSigner:!0,isWritable:!1},{pubkey:j[0],isSigner:!1,isWritable:!1},{pubkey:b.c,isSigner:!1,isWritable:!0},{pubkey:b.o,isSigner:!1,isWritable:!0},{pubkey:b.z,isSigner:!1,isWritable:!0},{pubkey:b.m,isSigner:!1,isWritable:!0},{pubkey:b.q,isSigner:!1,isWritable:!0},{pubkey:b.D,isSigner:!1,isWritable:!1},{pubkey:l.b,isSigner:!1,isWritable:!1},{pubkey:b.k,isSigner:!1,isWritable:!1}],programId:b.v,data:O})),a.next=23,n.getTokenAccountBalance(u);case 23:if(v=a.sent,!(null!==(y=v.value.uiAmount)&&y<t.loanAmount/o.LAMPORTS_PER_SOL)){a.next=27;break}throw Error("Insufficient wallet balance of ".concat(y.toFixed(9)," Bananas for transaction of ").concat(t.loanAmount/o.LAMPORTS_PER_SOL," Bananas."));case 27:return A("info","Close Loan Request Approval Needed"),S=[s],a.next=31,g(h,n,{signers:S});case 31:return r=a.sent,A("info","Transaction sent:",r),w(Object(_.j)(!0)),a.next=36,n.confirmTransaction(r,"processed");case 36:A("success","Transaction successful!",r),a.next=45;break;case 39:return a.prev=39,a.t0=a.catch(4),k(!1),w(Object(_.j)(!1)),A("error","Transaction failed! ".concat(null===a.t0||void 0===a.t0?void 0:a.t0.message),r),a.abrupt("return");case 45:case"end":return a.stop()}}),a,null,[[4,39]])}))),[x,t,n,g,w,A]);return Object(h.jsx)(h.Fragment,{children:S?Object(h.jsx)(d.a,{color:"success"}):Object(h.jsx)(j.a,{size:t.buttonSize,onClick:T,disabled:!x,variant:"contained",children:t.text?t.text:"Close Loan"})})}}).call(this,n(12).Buffer)},256:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j}));var a=n(10),i=n(7),r=function e(t){var n=t.basis_points;Object(a.a)(this,e),this.basis_points=void 0,this.basis_points=n},c=function e(t){var n=t.lp_mint,i=t.lp_mint_authority_bump_seed,r=t.sol_leg_bump_seed,c=t.st_sol_leg_authority_bump_seed,s=t.st_sol_leg,o=t.lp_liquidity_target,l=t.lp_max_fee,u=t.lp_min_fee,b=t.treasury_cut,d=t.lp_supply,j=t.lended_from_sol_leg,p=t.liquidity_sol_cap;Object(a.a)(this,e),this.lp_mint=void 0,this.lp_mint_authority_bump_seed=void 0,this.sol_leg_bump_seed=void 0,this.st_sol_leg_authority_bump_seed=void 0,this.st_sol_leg=void 0,this.lp_liquidity_target=void 0,this.lp_max_fee=void 0,this.lp_min_fee=void 0,this.treasury_cut=void 0,this.lp_supply=void 0,this.lended_from_sol_leg=void 0,this.liquidity_sol_cap=void 0,this.lp_mint=n,this.lp_mint_authority_bump_seed=i,this.sol_leg_bump_seed=r,this.st_sol_leg_authority_bump_seed=c,this.st_sol_leg=s,this.lp_liquidity_target=o,this.lp_max_fee=l,this.lp_min_fee=u,this.treasury_cut=b,this.lp_supply=d,this.lended_from_sol_leg=j,this.liquidity_sol_cap=p},s=function e(t){var n=t.account,i=t.item_size,r=t.count,c=t.new_account,s=t.copied_count;Object(a.a)(this,e),this.account=void 0,this.item_size=void 0,this.count=void 0,this.new_account=void 0,this.copied_count=void 0,this.account=n,this.item_size=i,this.count=r,this.new_account=c,this.copied_count=s},o=function e(t){var n=t.account,i=t.item_size,r=t.count,c=t.new_account,s=t.copied_count;Object(a.a)(this,e),this.account=void 0,this.item_size=void 0,this.count=void 0,this.new_account=void 0,this.copied_count=void 0,this.account=n,this.item_size=i,this.count=r,this.new_account=c,this.copied_count=s},l=function e(t){var n=t.elem0;Object(a.a)(this,e),this.value=void 0,this.value=new i.PublicKey(n)},u=function e(t){var n=t.stake_list,i=t.total_cooling_down,r=t.stake_deposit_bump_seed,c=t.stake_withdraw_bump_seed,s=t.slots_for_stake_delta,o=t.last_stake_delta_epoch,l=t.min_stake,u=t.extra_stake_delta_runs;Object(a.a)(this,e),this.stake_list=void 0,this.total_cooling_down=void 0,this.stake_deposit_bump_seed=void 0,this.stake_withdraw_bump_seed=void 0,this.slots_for_stake_delta=void 0,this.last_stake_delta_epoch=void 0,this.min_stake=void 0,this.extra_stake_delta_runs=void 0,this.stake_list=n,this.total_cooling_down=i,this.stake_deposit_bump_seed=r,this.stake_withdraw_bump_seed=c,this.slots_for_stake_delta=s,this.last_stake_delta_epoch=o,this.min_stake=l,this.extra_stake_delta_runs=u},b=function e(t){var n=t.st_sol_mint,i=t.admin_authority,r=t.operational_sol_account,c=t.treasury_msol_account,s=t.reserve_bump_seed,o=t.st_mint_authority_bump_seed,l=t.rent_exempt_for_token_acc,u=t.reward_fee,b=t.stake_system,d=t.validator_system,j=t.liq_pool,p=t.available_reserve_balance,f=t.st_sol_supply,O=t.st_sol_price,_=t.circulating_ticket_count,h=t.circulating_ticket_balance,m=t.lended_from_reserve,x=t.min_deposit,g=t.min_withdraw,v=t.staking_sol_cap;Object(a.a)(this,e),this.st_sol_mint=void 0,this.admin_authority=void 0,this.operational_sol_account=void 0,this.treasury_msol_account=void 0,this.reserve_bump_seed=void 0,this.st_mint_authority_bump_seed=void 0,this.rent_exempt_for_token_acc=void 0,this.reward_fee=void 0,this.stake_system=void 0,this.validator_system=void 0,this.liq_pool=void 0,this.available_reserve_balance=void 0,this.st_sol_supply=void 0,this.st_sol_price=void 0,this.circulating_ticket_count=void 0,this.circulating_ticket_balance=void 0,this.lended_from_reserve=void 0,this.min_deposit=void 0,this.min_withdraw=void 0,this.staking_sol_cap=void 0,this.st_sol_mint=n,this.admin_authority=i,this.operational_sol_account=r,this.treasury_msol_account=c,this.reserve_bump_seed=s,this.st_mint_authority_bump_seed=o,this.rent_exempt_for_token_acc=l,this.reward_fee=u,this.stake_system=b,this.validator_system=d,this.liq_pool=j,this.available_reserve_balance=p,this.st_sol_supply=f,this.st_sol_price=O,this.circulating_ticket_count=_,this.circulating_ticket_balance=h,this.lended_from_reserve=m,this.min_deposit=x,this.min_withdraw=g,this.staking_sol_cap=v},d=function e(t){var n=t.validator_list,i=t.manager_authority,r=t.total_validator_score,c=t.total_active_balance,s=t.auto_add_validator_enabled;Object(a.a)(this,e),this.validator_list=void 0,this.manager_authority=void 0,this.total_validator_score=void 0,this.total_active_balance=void 0,this.auto_add_validator_enabled=void 0,this.validator_list=n,this.manager_authority=i,this.total_validator_score=r,this.total_active_balance=c,this.auto_add_validator_enabled=s},j=new Map([[r,{kind:"struct",fields:[["basis_points","u32"]]}],[c,{kind:"struct",fields:[["lp_mint",l],["lp_mint_authority_bump_seed","u8"],["sol_leg_bump_seed","u8"],["st_sol_leg_authority_bump_seed","u8"],["st_sol_leg",l],["lp_liquidity_target","u64"],["lp_max_fee",r],["lp_min_fee",r],["treasury_cut",r],["lp_supply","u64"],["lended_from_sol_leg","u64"],["liquidity_sol_cap","u64"]]}],[s,{kind:"struct",fields:[["account",l],["item_size","u32"],["count","u32"],["new_account",l],["copied_count","u32"]]}],[o,{kind:"struct",fields:[["account",l],["item_size","u32"],["count","u32"],["new_account",l],["copied_count","u32"]]}],[l,{kind:"struct",fields:[["elem0",[32]]]}],[u,{kind:"struct",fields:[["stake_list",s],["total_cooling_down","u64"],["stake_deposit_bump_seed","u8"],["stake_withdraw_bump_seed","u8"],["slots_for_stake_delta","u64"],["last_stake_delta_epoch","u64"],["min_stake","u64"],["extra_stake_delta_runs","u32"]]}],[b,{kind:"struct",fields:[["st_sol_mint",l],["admin_authority",l],["operational_sol_account",l],["treasury_msol_account",l],["reserve_bump_seed","u8"],["st_mint_authority_bump_seed","u8"],["rent_exempt_for_token_acc","u64"],["reward_fee",r],["stake_system",u],["validator_system",d],["liq_pool",c],["available_reserve_balance","u64"],["st_sol_supply","u64"],["st_sol_price","u64"],["circulating_ticket_count","u64"],["circulating_ticket_balance","u64"],["lended_from_reserve","u64"],["min_deposit","u64"],["min_withdraw","u64"],["staking_sol_cap","u64"]]}],[function e(t){var n=t.state_address,i=t.beneficiary,r=t.lamports_amount,c=t.created_epoch;Object(a.a)(this,e),this.state_address=void 0,this.beneficiary=void 0,this.lamports_amount=void 0,this.created_epoch=void 0,this.state_address=n,this.beneficiary=i,this.lamports_amount=r,this.created_epoch=c},{kind:"struct",fields:[["state_address",l],["beneficiary",l],["lamports_amount","u64"],["created_epoch","u64"]]}],[function e(t){var n=t.validator_account,i=t.active_balance,r=t.score,c=t.last_stake_delta_epoch,s=t.duplication_flag_bump_seed;Object(a.a)(this,e),this.validator_account=void 0,this.active_balance=void 0,this.score=void 0,this.last_stake_delta_epoch=void 0,this.duplication_flag_bump_seed=void 0,this.validator_account=n,this.active_balance=i,this.score=r,this.last_stake_delta_epoch=c,this.duplication_flag_bump_seed=s},{kind:"struct",fields:[["validator_account",l],["active_balance","u64"],["score","u32"],["last_stake_delta_epoch","u64"],["duplication_flag_bump_seed","u8"]]}],[d,{kind:"struct",fields:[["validator_list",o],["manager_authority",l],["total_validator_score","u32"],["total_active_balance","u64"],["auto_add_validator_enabled","u8"]]}]])},358:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var a=n(2),i=n.n(a),r=n(6),c=n(257),s=n(68),o=n(75),l=n(621),u=n(374),b=n(622),d=n(623),j=n(376),p=n(377),f=n(86),O=n(50),_=n(44),h=n(624),m=n(620),x=n(625),g=n(626),v=n(153),y=n(152),S=n.n(y),k=n(84),w=n(38),A=n(7),T=n(1),N=n(34),L=n(17),P=n(254),W=n(40),C=n(81),K=n(36),E=n(151),B=n(37),R=n(3);function I(e){return void 0===e||null===e?0:parseFloat(e.toString())}var M=Object(k.struct)([Object(k.u8)("version"),Object(k.publicKey)("owner"),Object(k.u64)("collateral_amount"),Object(k.u64)("market_price"),Object(k.u64)("loan_amount"),Object(k.publicKey)("loan_mint"),Object(k.i64)("loan_creation_date"),Object(k.publicKey)("vault")]),D=function(){var t,n,a=Object(w.c)().connection,y=Object(w.d)().publicKey,k=Object(N.b)(),D=Object(N.c)(W.b),U=Object(T.useRef)(!0),z=Object(C.a)(),F=Object(N.c)(B.d).windowWidth<L.j;D.notify||k(Object(W.g)(z)),y&&!(null===(t=D.walletKey)||void 0===t?void 0:t.equals(y))&&k(Object(W.f)([],y)),Object(T.useEffect)((function(){return function(){k(Object(W.k)(null,null)),U.current=!1}}),[k]);var G=function(t){for(var n=[],a=0;a<t.length;a++){var i=t[a].account.data,r=M.decode(e.from(i)),c=1e3*I(r.loan_creation_date),s=new Date(c).toLocaleDateString("en-us");n.push({loanAccount:t[a].pubkey,collateral:I(r.collateral_amount),marketPrice:I(r.market_price),loanAmount:I(r.loan_amount),dateOpened:s,timestamp:c})}n.length?k(Object(W.f)(n,y)):k(Object(W.f)(null,y))};Object(T.useEffect)((function(){var e;function t(){return(t=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y?(t=a.getProgramAccounts(L.v,{commitment:"max",filters:[{memcmp:{bytes:y.toString(),offset:1}}]}),U.current&&t.then((function(e){return G(e)}))):z("warning","Wallet Not Connected");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y&&0===(null===(e=D.list)||void 0===e?void 0:e.length)&&function(){t.apply(this,arguments)}()})),Object(T.useEffect)((function(){function e(){return(e=Object(r.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t?t.length:0,y?(r=a.getProgramAccounts(L.v,{commitment:"max",filters:[{memcmp:{bytes:y.toString(),offset:1}}]}),U.current&&r.then((function(e){k(Object(W.a)()),e.length!==n&&G(e)}))):z("warning","Wallet Not Connected");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y&&D.scan&&null===D.scanTimer&&k(Object(W.k)((new Date).getTime(),setInterval((function(){return function(t){return e.apply(this,arguments)}(D.list)}),5e3)))}));var q=Object(c.a)({components:{MuiTableCell:{styleOverrides:{root:{color:"white"}}},MuiTableContainer:{styleOverrides:{root:{backgroundColor:"transparent"}}}}});if(D.scan)return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(s.a,{component:"div",children:[Object(R.jsx)(o.a,{className:"Updating-loan-list-text",sx:{fontSize:"h5.fontSize",m:1},children:"Updating Loan List"}),Object(R.jsx)("div",{children:Object(R.jsx)("img",{className:"Dancing-banana",src:"/dancing-banana.gif",alt:"Updating Loan List"})})]}),Object(R.jsx)("br",{}),Object(R.jsx)(l.a,{sx:{width:"30%",marginLeft:"35%"}})]});if(null===(n=D.list)||void 0===n?void 0:n.length){var H=Object.assign([],D.list).sort((function(e,t){return e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0}));if(F){var X={borderBottom:"0px",padding:"0px"};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(E.a,{}),Object(R.jsx)("br",{}),Object(R.jsx)(u.a,{theme:q,children:H.map((function(e){return Object(R.jsxs)("div",{children:[Object(R.jsxs)(b.a,{sx:{bgcolor:"transparent",border:"1px solid rgb(76, 136, 86)"},variant:"outlined",raised:!1,children:[Object(R.jsx)(d.a,{sx:{padding:"5px"},children:Object(R.jsx)(j.a,{children:Object(R.jsx)(p.a,{"aria-label":"simple table",children:Object(R.jsxs)("tbody",{children:[Object(R.jsx)(f.a,{children:Object(R.jsx)(O.a,{sx:X,children:"Collateral Amount (SOL):"})}),Object(R.jsx)(f.a,{children:Object(R.jsx)(O.a,{sx:X,className:"Loan-list-cell-value",component:"th",scope:"row",children:Object(R.jsxs)(_.a,{container:!0,direction:"row",alignItems:"left",children:[Object(R.jsx)(S.a,{}),Object(R.jsx)("span",{style:{marginTop:"2px"},children:e.collateral/A.LAMPORTS_PER_SOL})]})})}),Object(R.jsx)(f.a,{children:Object(R.jsx)(O.a,{sx:X,align:"left",children:"SOL/USD Market Price:"})}),Object(R.jsx)(f.a,{children:Object(R.jsx)(O.a,{sx:X,className:"Loan-list-cell-value",align:"left",children:Object(R.jsxs)(_.a,{container:!0,direction:"row",alignItems:"left",children:[Object(R.jsx)(S.a,{}),Object(R.jsxs)("span",{style:{marginTop:"2px"},children:["$",e.marketPrice]})]})})}),Object(R.jsx)(f.a,{children:Object(R.jsx)(O.a,{sx:X,align:"left",children:"Loan Amount:"})}),Object(R.jsx)(f.a,{children:Object(R.jsx)(O.a,{sx:X,className:"Loan-list-cell-value",align:"left",children:Object(R.jsxs)(_.a,{container:!0,direction:"row",alignItems:"left",children:[Object(R.jsx)(S.a,{}),Object(R.jsx)("span",{style:{marginTop:"2px"},children:Object(K.g)(Math.round(e.loanAmount/A.LAMPORTS_PER_SOL))})]})})}),Object(R.jsx)(f.a,{children:Object(R.jsx)(O.a,{sx:X,align:"left",children:"Date Opened:"})}),Object(R.jsx)(f.a,{children:Object(R.jsx)(O.a,{sx:X,className:"Loan-list-cell-value",align:"left",children:Object(R.jsxs)(_.a,{container:!0,direction:"row",alignItems:"left",children:[Object(R.jsx)(S.a,{}),Object(R.jsx)("span",{style:{marginTop:"2px"},children:e.dateOpened})]})})})]})})})}),Object(R.jsx)(h.a,{children:Object(R.jsx)(P.a,{loanAccount:e.loanAccount,loanAmount:e.loanAmount,buttonSize:"small",text:"Close Loan"})})]}),Object(R.jsx)("br",{})]},e.timestamp)}))})]})}return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(E.a,{}),Object(R.jsx)("br",{}),Object(R.jsx)(u.a,{theme:q,children:Object(R.jsx)(j.a,{component:m.a,children:Object(R.jsxs)(p.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(R.jsx)(x.a,{children:Object(R.jsxs)(f.a,{children:[Object(R.jsx)(O.a,{children:"Collateral Amount (SOL)"}),Object(R.jsx)(O.a,{align:"right",children:"SOL/USD Market Price"}),Object(R.jsx)(O.a,{align:"right",children:"Loan Amount"}),Object(R.jsx)(O.a,{align:"right",children:"Date Opened"}),Object(R.jsx)(O.a,{align:"right"})]})}),Object(R.jsx)(g.a,{children:H.map((function(e){return Object(R.jsxs)(f.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(R.jsx)(O.a,{component:"th",scope:"row",children:e.collateral/A.LAMPORTS_PER_SOL}),Object(R.jsxs)(O.a,{align:"right",children:["$",e.marketPrice]}),Object(R.jsx)(O.a,{align:"right",children:Object(K.g)(Math.round(e.loanAmount/A.LAMPORTS_PER_SOL))}),Object(R.jsx)(O.a,{align:"right",children:e.dateOpened}),Object(R.jsx)(O.a,{align:"right",children:Object(R.jsx)(P.a,{loanAccount:e.loanAccount,loanAmount:e.loanAmount,buttonSize:"small",text:"Close Loan"})})]},e.timestamp)}))})]})})})]})}return null==D.list?F?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(E.a,{}),Object(R.jsxs)(s.a,{component:"div",children:[Object(R.jsx)(o.a,{sx:{fontSize:"h5.fontSize",m:1},children:"No Open Loans"}),Object(R.jsx)("img",{className:"Banana-peel",src:"/BananaPeel.png",alt:"No Loans"})]})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(E.a,{}),Object(R.jsxs)(s.a,{component:"div",children:[Object(R.jsx)(o.a,{sx:{fontSize:"h5.fontSize",m:1},children:"You Have No Loans Currently Open With Wallet ID:"}),Object(R.jsx)(o.a,{sx:{fontSize:"h8.fontSize",m:1},children:null===y||void 0===y?void 0:y.toString()}),Object(R.jsx)("img",{className:"Banana-peel",src:"/BananaPeel.png",alt:"No Loans"})]})]}):Object(R.jsx)(v.a,{})}}).call(this,n(12).Buffer)},36:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return b}));var a=n(7);function i(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function r(e){return parseFloat(e)?parseFloat(e):0}function c(e){var t=e.replaceAll(/[^0-9.]/g,"");return t.slice(0,-1).match(/\./)&&"."===t.slice(-1)?t.slice(0,-1):t}function s(e,t){if(e>0&&t){var n=t.price*e,a=parseFloat((n/1.5).toFixed(5)),i=new Intl.NumberFormat("en-US");return i.format(e).toString()+" *  $"+i.format(t.price).toString()+" / 1.5 = "+i.format(a).toString()}return"0"}function o(e,t,n){if(e>0&&t){var a=parseFloat((e/t.price).toFixed(5)),i=new Intl.NumberFormat("en-US");return i.format(e).toString()+" "+n+"  /  $"+i.format(t.price).toString()+" = "+i.format(a).toString()}return"0"}function l(e,t,n){if(e>0&&t){var a=parseFloat((e*t.price).toFixed(5)),i=new Intl.NumberFormat("en-US");return i.format(e).toString()+" "+n+"  *  $"+i.format(t.price).toString()+" = "+i.format(a).toString()}return"0"}function u(e,t){return null===e?"--":(Math.round(e/(t||1)*1e5)/1e5).toString()}function b(e){return e/a.LAMPORTS_PER_SOL}},364:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var a=n(2),i=n.n(a),r=n(18),c=n(6),s=(n(600),n(13)),o=n(373),l=n(68),u=n(85),b=n(75),d=n(44),j=n(260),p=n(153),f=n(261),O=n(5),_=n(259),h=n(1),m=n(147),x=n.n(m),g=n(365),v=n(368),y=n(34),S=n(37),k=n(109),w=n.n(k),A=n(90),T=n(7),N=n(42),L=n(17),P=n(81),W=n(38),C=n(36),K=n(3),E=void 0,B=Object(s.a)(o.a)({"& label.MuiInputLabel":{color:"white"},"& label.MuiInputLabel-root":{color:"white"},"& label.Mui-focused":{color:"white"},"& .MuiInput-underline:after":{borderBottomColor:"green"},"& .MuiInputBase-root":{color:"white",backgroundColor:"transparent"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"green"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"green"}}}),R=Object(_.a)({link:{color:"#ffffff",display:"flex",alignItems:"right",textDecoration:"underline","&:hover":{color:"#000000"}},icon:{fontSize:20}});function I(e,t){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.PublicKey.findProgramAddress([t.toBuffer(),N.b.toBuffer(),n.toBuffer()],L.C);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(){var t=Object(W.c)().connection,n=Object(W.d)(),a=n.publicKey,s=n.sendTransaction,o=Object(h.useState)(!1),_=Object(r.a)(o,2),m=_[0],k=_[1],M=Object(h.useState)("BANANA"),D=Object(r.a)(M,2),U=D[0],z=D[1],F=Object(h.useState)(""),G=Object(r.a)(F,2),q=G[0],H=G[1],X=Object(y.b)(),J=Object(y.c)(S.b),V=R(),Z=Object(P.a)();function Y(e){Object(C.h)(e.target.value)?H(Object(C.h)(e.target.value)):""===e.target.value&&H("")}var Q=Object(h.useCallback)((function(){H(""),z("BANANA"===U?"KONG":"BANANA")}),[U]),$=Object(h.useCallback)(Object(c.a)(i.a.mark((function n(){var r,c,o,l,u,b,d,j,p,f,_,h,m;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=3;break}return Z("error","Wallet not connected!"),n.abrupt("return");case 3:return k(!0),r="",n.prev=5,o=Object(O.struct)([Object(O.u8)("instruction"),Object(O.nu64)("lamports")]),l=e.alloc(o.span),o.encode({instruction:3,lamports:Object(C.e)(q)*T.LAMPORTS_PER_SOL},l),n.next=11,I(a,L.e);case 11:return u=n.sent,n.next=14,T.PublicKey.findProgramAddress([L.s.toBuffer(),e.from(L.f)],L.v);case 14:return b=n.sent,n.next=17,I(a,L.a);case 17:return d=n.sent,j=[],n.next=21,t.getAccountInfo(u,"finalized");case 21:return n.sent||(p=Object(O.struct)([Object(O.u8)("instruction")]),f=e.alloc(p.span),p.encode({instruction:0},f),j.push(new T.TransactionInstruction({keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:L.e,isSigner:!1,isWritable:!1},{pubkey:L.D,isSigner:!1,isWritable:!1},{pubkey:N.b,isSigner:!1,isWritable:!1},{pubkey:L.w,isSigner:!1,isWritable:!1}],programId:L.C,data:f}))),j.push(new T.TransactionInstruction({keys:[{pubkey:L.s,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:L.a,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:L.e,isSigner:!1,isWritable:!0},{pubkey:b[0],isSigner:!1,isWritable:!1},{pubkey:L.h,isSigner:!1,isWritable:!1},{pubkey:L.g,isSigner:!1,isWritable:!1},{pubkey:N.b,isSigner:!1,isWritable:!1}],programId:L.v,data:l})),n.next=26,t.getTokenAccountBalance(d);case 26:if(_=n.sent,!(null!==(h=_.value.uiAmount)&&h<Object(C.e)(q))){n.next=30;break}throw Error("Insufficient wallet balance of ".concat(h.toFixed(5)," Bananas for transaction of ").concat(q," Bananas."));case 30:return Z("info","Burn Request Approval Needed"),m=[],n.next=34,s((c=new T.Transaction).add.apply(c,j),t,{signers:m});case 34:return r=n.sent,Z("info","Transaction sent:",r),X(Object(S.f)(r)),n.next=39,t.confirmTransaction(r,"processed");case 39:Z("success","Transaction successful!",r),k(!1),H(""),n.next=50;break;case 44:return n.prev=44,n.t0=n.catch(5),k(!1),X(Object(S.f)()),Z("error","Transaction failed! ".concat(null===n.t0||void 0===n.t0?void 0:n.t0.message),r),n.abrupt("return");case 50:case"end":return n.stop()}}),n,null,[[5,44]])}))),[X,q,t,Z,a,s]),ee=Object(h.useCallback)(Object(c.a)(i.a.mark((function n(){var r,c,o,l,u,b,d,j,p,f,_,h,m;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=3;break}return Z("error","Wallet not connected!"),n.abrupt("return");case 3:return k(!0),r="",n.prev=5,o=Object(O.struct)([Object(O.u8)("instruction"),Object(O.nu64)("lamports")]),l=e.alloc(o.span),o.encode({instruction:2,lamports:Object(C.e)(q)*T.LAMPORTS_PER_SOL},l),n.next=11,I(a,L.e);case 11:return u=n.sent,n.next=14,I(a,L.a);case 14:return b=n.sent,n.next=17,T.PublicKey.findProgramAddress([L.s.toBuffer(),e.from(L.b)],L.v);case 17:return d=n.sent,j=[],n.next=21,t.getAccountInfo(b,"finalized");case 21:return n.sent||(p=Object(O.struct)([Object(O.u8)("instruction")]),f=e.alloc(p.span),p.encode({instruction:0},f),j.push(new T.TransactionInstruction({keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:L.a,isSigner:!1,isWritable:!1},{pubkey:L.D,isSigner:!1,isWritable:!1},{pubkey:N.b,isSigner:!1,isWritable:!1},{pubkey:L.w,isSigner:!1,isWritable:!1}],programId:L.C,data:f}))),j.push(new T.TransactionInstruction({keys:[{pubkey:L.s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:L.e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:L.a,isSigner:!1,isWritable:!0},{pubkey:d[0],isSigner:!1,isWritable:!1},{pubkey:L.h,isSigner:!1,isWritable:!1},{pubkey:L.g,isSigner:!1,isWritable:!1},{pubkey:N.b,isSigner:!1,isWritable:!1}],programId:L.v,data:l})),n.next=26,t.getTokenAccountBalance(u);case 26:if(_=n.sent,!(null!==(h=_.value.uiAmount)&&h<Object(C.e)(q))){n.next=30;break}throw Error("Insufficient wallet balance of ".concat(h.toFixed(5)," Kong for transaction of ").concat(q," Kong."));case 30:return Z("info","Burn Request Approval Needed"),m=[],n.next=34,s((c=new T.Transaction).add.apply(c,j),t,{signers:m});case 34:return r=n.sent,Z("info","Transaction sent:",r),X(Object(S.f)(r)),n.next=39,t.confirmTransaction(r,"processed");case 39:Z("success","Transaction successful!",r),k(!1),H(""),n.next=50;break;case 44:return n.prev=44,n.t0=n.catch(5),k(!1),X(Object(S.f)()),Z("error","Transaction failed! ".concat(null===n.t0||void 0===n.t0?void 0:n.t0.message),r),n.abrupt("return");case 50:case"end":return n.stop()}}),n,null,[[5,44]])}))),[X,q,t,Z,a,s]),te=Object(h.useCallback)(Object(c.a)(i.a.mark((function e(){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return Z("error","Wallet not connected!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,I(a,L.a);case 6:return n=e.sent,e.next=9,t.getTokenAccountBalance(n);case 9:r=e.sent,null!==(c=r.value.uiAmount)&&H(c.toString()),Z("success","Set Bananas to MAX of: "+c),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(3),Z("error","Failed to fetch Banana balance ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)),e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),[Z,t,a]),ne=Object(h.useCallback)(Object(c.a)(i.a.mark((function e(){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return Z("error","Wallet not connected!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,I(a,L.e);case 6:return n=e.sent,e.next=9,t.getTokenAccountBalance(n);case 9:r=e.sent,null!==(c=r.value.uiAmount)&&H(c.toString()),Z("success","Set Kong to MAX of: "+c),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(3),Z("error","Failed to fetch Banana balance ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)),e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),[Z,t,a]);return"BANANA"===U?Object(K.jsx)("div",{className:"Arbitrage-outter-container",children:Object(K.jsxs)("div",{className:"Arbitrage-container",children:[Object(K.jsx)(l.a,{id:"modal-modal-title",variant:"h6",component:"h2",align:"center",color:"white",children:"BANANA / KONG"}),Object(K.jsx)("br",{}),Object(K.jsxs)("div",{className:"Div-relative-container  ",children:[Object(K.jsx)(B,{variant:"outlined",autoFocus:!0,fullWidth:!0,type:"text",value:q,onChange:Y.bind(E),label:"Bananas to Burn for Kong",id:"banana-amount"}),Object(K.jsx)(u.a,{variant:"outlined",color:"success",className:"Input-max-button",onClick:te,children:"max"})]}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{}),Object(K.jsx)(u.a,{variant:"contained",color:"warning",onClick:Q,className:"Arb-change-direction-button",children:"Change Burn Direction"}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{}),Object(K.jsx)(g.a,{amount:q}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{}),Object(K.jsx)(b.a,{sx:{flexGrow:1},children:Object(K.jsxs)(d.a,{container:!0,spacing:2,children:[Object(K.jsx)(d.a,{item:!0,xs:10,children:Object(K.jsxs)(l.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"left",color:"white",children:["Slippage Tolerance",Object(K.jsx)(j.a,{title:"The maximum difference between your estimated price and execution price.",placement:"right",children:Object(K.jsx)(x.a,{style:{position:"relative",marginLeft:"2px",top:"5px"},fontSize:"small",color:"primary"})})]})}),Object(K.jsx)(d.a,{item:!0,xs:2,children:Object(K.jsx)(l.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"right",color:"white",style:{position:"relative",top:"5px"},children:"0.5%"})})]})}),Object(K.jsx)("br",{}),m?Object(K.jsx)(b.a,{sx:{flexGrow:1},children:Object(K.jsxs)(d.a,{container:!0,spacing:2,children:[Object(K.jsx)(d.a,{item:!0,xs:7,children:Object(K.jsx)(p.a,{color:"success"})}),Object(K.jsx)(d.a,{item:!0,xs:5,children:J&&Object(K.jsxs)(f.a,{className:V.link,href:"https://explorer.solana.com/tx/".concat(J,"?cluster=").concat(A.a),target:"_blank",align:"right",children:["Transaction",Object(K.jsx)(w.a,{className:V.icon})]})})]})}):Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(u.a,{onClick:$,variant:"contained",children:"Burn Bananas for Kong"})}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{})]})}):Object(K.jsx)("div",{className:"Arbitrage-outter-container",children:Object(K.jsxs)("div",{className:"Arbitrage-container",children:[Object(K.jsx)(l.a,{id:"modal-modal-title",variant:"h6",component:"h2",align:"center",color:"white",children:"KONG / BANANA"}),Object(K.jsx)("br",{}),Object(K.jsxs)("div",{className:"Div-relative-container  ",children:[Object(K.jsx)(B,{variant:"outlined",autoFocus:!0,fullWidth:!0,type:"text",value:q,onChange:Y.bind(E),label:"Kong to Burn for Bananas",id:"kong-amount"}),Object(K.jsx)(u.a,{variant:"outlined",color:"success",className:"Input-max-button",onClick:ne,children:"max"})]}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{}),Object(K.jsx)(u.a,{variant:"contained",color:"warning",onClick:Q,className:"Arb-change-direction-button",children:"Change Burn Direction"}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{}),Object(K.jsx)(v.a,{amount:q}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{}),Object(K.jsx)(b.a,{sx:{flexGrow:1},children:Object(K.jsxs)(d.a,{container:!0,spacing:2,children:[Object(K.jsx)(d.a,{item:!0,xs:10,children:Object(K.jsxs)(l.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"left",color:"white",children:["Slippage Tolerance",Object(K.jsx)(j.a,{title:"The maximum difference between your estimated price and execution price.",placement:"right",children:Object(K.jsx)(x.a,{style:{position:"relative",marginLeft:"2px",top:"5px"},fontSize:"small",color:"primary"})})]})}),Object(K.jsx)(d.a,{item:!0,xs:2,children:Object(K.jsx)(l.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"right",color:"white",style:{position:"relative",top:"5px"},children:"0.5%"})})]})}),Object(K.jsx)("br",{}),m?Object(K.jsx)(b.a,{sx:{flexGrow:1},children:Object(K.jsxs)(d.a,{container:!0,spacing:2,children:[Object(K.jsx)(d.a,{item:!0,xs:7,children:Object(K.jsx)(p.a,{color:"success"})}),Object(K.jsx)(d.a,{item:!0,xs:5,children:J&&Object(K.jsxs)(f.a,{className:V.link,href:"https://explorer.solana.com/tx/".concat(J,"?cluster=").concat(A.a),target:"_blank",align:"right",children:["Transaction",Object(K.jsx)(w.a,{className:V.icon})]})})]})}):Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(u.a,{onClick:ee,variant:"contained",children:"Burn Kong for Bananas"})}),Object(K.jsx)("br",{}),Object(K.jsx)("br",{})]})})}}).call(this,n(12).Buffer)},365:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(34),i=n(37),r=n(36),c=n(99),s=n(3),o=function(e){var t=Object(a.c)(i.c);return Object(s.jsx)(c.a,{variant:"outlined",fullWidth:!0,type:"text",label:"Est. KONG Received",id:"loan-amount",value:Object(r.a)(Object(r.e)(e.amount),t.KONG_USD,"BANANA")})}},366:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(34),i=n(37),r=n(36),c=n(99),s=n(3),o=function(e){var t=Object(a.c)(i.c);return Object(s.jsx)(c.a,{variant:"outlined",fullWidth:!0,type:"text",label:"Est. Loan Amount",id:"loan-amount",value:Object(r.c)(Object(r.e)(e.collateral),t.SOL_USD)})}},368:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(34),i=n(37),r=n(36),c=n(99),s=n(3),o=function(e){var t=Object(a.c)(i.c);return Object(s.jsx)(c.a,{variant:"outlined",fullWidth:!0,type:"text",label:"Est. BANANA Received",id:"loan-amount",value:Object(r.b)(Object(r.e)(e.amount),t.KONG_USD,"KONG")})}},37:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f}));var a=n(60),i=n(61),r={screen:{windowHeight:0,windowWidth:0},oraclePrices:{SOL_USD:null,BANANA_USD:null,KONG_USD:null,timer:null},tab:0},c=function(e){return Object(a.a)("app/SET_SCREEN",{screen:e})},s=function(e){return Object(a.a)("app/SET_ARB_TRANSACTION_SIGNATURE",{arbTransactionSignature:e})},o=function(e){return Object(a.a)("app/SET_ORACLE_PRICES",{SOL_USD:e.SOL_USD,BANANA_USD:e.BANANA_USD,KONG_USD:e.KONG_USD})},l=function(e){return Object(a.a)("app/SET_ORACLE_TIMER",{oracleTimer:e})},u=function(e){return Object(a.a)("app/SET_TAB",{tab:e})};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_SCREEN":return Object(i.a)(e,(function(e){e.screen=t.payload.screen}));case"app/SET_ARB_TRANSACTION_SIGNATURE":return Object(i.a)(e,(function(e){e.arbTransactionSignature=t.payload.arbTransactionSignature}));case"app/SET_TAB":return Object(i.a)(e,(function(e){e.tab=t.payload.tab}));case"app/SET_ORACLE_PRICES":return Object(i.a)(e,(function(e){e.oraclePrices.SOL_USD=t.payload.SOL_USD,e.oraclePrices.BANANA_USD=t.payload.BANANA_USD,e.oraclePrices.KONG_USD=t.payload.KONG_USD}));case"app/SET_ORACLE_TIMER":return Object(i.a)(e,(function(e){e.oraclePrices.timer&&clearInterval(e.oraclePrices.timer),e.oraclePrices.timer=t.payload.oracleTimer}));default:return e}}var d=function(e){return e.app.screen},j=function(e){return e.app.arbTransactionSignature},p=function(e){return e.app.tab},f=function(e){return e.app.oraclePrices}},397:function(e,t,n){},398:function(e,t,n){},40:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return b})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return _}));var a=n(60),i=n(61),r=n(17),c={notify:null,list:[],openLoanTransactionSignature:null,walletKey:null,scan:!1,scanStartTime:null,scanTimer:null,openLoanModal:!1},s=function(e,t){return Object(a.a)("loans/SET_LOAN_LIST",{loans:e,walletKey:t})},o=function(e){return Object(a.a)("loans/SET_OPEN_LOAN_TRANSACTION_SIGNATURE",{openLoanTransactionSignature:e})},l=function(e){return Object(a.a)("loans/SET_NOTIFIER",{notify:e})},u=function(e){return Object(a.a)("loans/SET_LOAN_SCAN",{scan:e})},b=function(e,t){return Object(a.a)("loans/SET_LOAN_SCAN_TIMER",{scanStartTime:e,scanTimer:t})},d=function(){return Object(a.a)("loans/CHECK_LOAN_SCAN_TIMEOUT")},j=function(e){return Object(a.a)("loans/SET_OPEN_LOAN_MODAL",{openLoanModal:e})};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loans/SET_LOAN_LIST":return Object(i.a)(e,(function(e){e.list=t.payload.loans,e.walletKey=t.payload.walletKey,e.scan=!1,e.scanTimer&&(clearInterval(e.scanTimer),e.scanStartTime=null,e.scanTimer=null)}));case"loans/SET_OPEN_LOAN_TRANSACTION_SIGNATURE":return Object(i.a)(e,(function(e){e.openLoanTransactionSignature=t.payload.openLoanTransactionSignature}));case"loans/SET_NOTIFIER":return Object(i.a)(e,(function(e){e.notify=t.payload.notify}));case"loans/CHECK_LOAN_SCAN_TIMEOUT":return Object(i.a)(e,(function(e){var t=(new Date).getTime();e.scanTimer&&e.scanStartTime&&t-e.scanStartTime>1e3*r.i&&(e.notify&&e.notify("warning","Timeout of "+r.i+" Seconds Reached for Loan List Refresh"),clearInterval(e.scanTimer),e.scanStartTime=null,e.scanTimer=null,e.scan=!1)}));case"loans/SET_LOAN_SCAN":return Object(i.a)(e,(function(e){e.scan=t.payload.scan}));case"loans/SET_LOAN_SCAN_TIMER":return Object(i.a)(e,(function(e){e.scanTimer&&null===t.payload.scanTimer&&clearInterval(e.scanTimer),e.scanStartTime=t.payload.scanStartTime,e.scanTimer=t.payload.scanTimer}));case"loans/SET_OPEN_LOAN_MODAL":return Object(i.a)(e,(function(e){e.openLoanModal=t.payload.openLoanModal}));default:return e}}var f=function(e){return e.loans},O=function(e){return e.loans.openLoanModal},_=function(e){return e.loans.openLoanTransactionSignature}},404:function(e,t,n){},405:function(e,t){},408:function(e,t){},415:function(e,t){},430:function(e,t){},431:function(e,t){},492:function(e,t){},494:function(e,t){},508:function(e,t){},512:function(e,t){},514:function(e,t){},524:function(e,t){},526:function(e,t){},557:function(e,t){},559:function(e,t){},566:function(e,t){},567:function(e,t){},591:function(e,t){},595:function(e,t){},596:function(e,t){},60:function(e,t,n){"use strict";function a(e,t){return{type:e,payload:t}}n.d(t,"a",(function(){return a}))},600:function(e,t,n){},601:function(e,t,n){},602:function(e,t,n){},603:function(e,t){},604:function(e,t){},609:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return ee}));var a=n(1),i=n.n(a),r=n(54),c=n.n(r),s=(n(397),n(398),n(190)),o=(n(404),n(90)),l=n(38),u=n(111),b=n(690),d=n(689),j=n(75),p=n(44),f=n(258),O=n(3),_=function(){var e=Object(l.d)().publicKey;return Object(O.jsx)(f.a,{featuredWallets:4,logo:"/Bananas-90px.png",children:Object(O.jsx)(f.b,{children:e?null:"Connect Wallet",className:"Connect-wallet-button"})})},h=n(17),m=n(34),x=n(37),g=function(){var e=Object(m.c)(x.d).windowWidth<h.r;return Object(O.jsx)(d.a,{position:"static",className:"App-bar",children:Object(O.jsx)(b.a,{variant:"regular",children:Object(O.jsx)(j.a,{sx:{flexGrow:1},children:Object(O.jsxs)(p.a,{container:!0,spacing:2,children:[Object(O.jsx)(p.a,{item:!0,xs:e?6:9,children:Object(O.jsx)("img",{src:"/kong-logo.png",alt:"Kong",className:"App-logo"})}),e?Object(O.jsx)(p.a,{item:!0,xs:6,children:Object(O.jsx)("div",{style:{textAlign:"right"},children:Object(O.jsx)(_,{})})}):Object(O.jsx)(p.a,{item:!0,xs:3,children:Object(O.jsx)("div",{style:{textAlign:"right"},children:Object(O.jsx)(_,{})})})]})})})})},v=n(692),y=n(28),S=n(193),k=n(13),w=n(620),A=n(358),T=n(257),N=n(374),L=n(688),P=n(691);function W(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}function C(){var e=Object(m.b)(),t=Object(m.c)(x.e),n=Object(T.a)({components:{MuiAppBar:{styleOverrides:{root:{backgroundColor:"transparent"}}},MuiTabs:{styleOverrides:{indicator:{backgroundColor:"yellow"}}}}});return Object(O.jsx)(N.a,{theme:n,children:Object(O.jsx)(j.a,{sx:{width:"100%"},children:Object(O.jsx)(d.a,{position:"static",children:Object(O.jsxs)(L.a,{value:t,onChange:function(t,n){e(Object(x.j)(n))},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(O.jsx)(P.a,Object(y.a)({label:"LOANS"},W(0))),Object(O.jsx)(P.a,Object(y.a)({label:"ARBITRAGE"},W(1)))]})})})})}var K=n(364);function E(e){var t=e.children,n=e.value,a=e.index,i=Object(S.a)(e,["children","value","index"]);return Object(O.jsxs)("div",Object(y.a)(Object(y.a)({role:"tabpanel",hidden:n!==a,id:"full-width-tabpanel-".concat(a),"aria-labelledby":"full-width-tab-".concat(a)},i),{},{children:[Object(O.jsx)("br",{}),n===a&&t]}))}var B=function(){var e=Object(l.d)().publicKey,t=Object(m.c)(x.e),n=Object(k.a)(w.a)((function(e){var t=e.theme;return Object(y.a)(Object(y.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));return Object(O.jsx)(p.a,{container:!0,spacing:2,columns:16,alignItems:"center",justifyContent:"center",children:Object(O.jsx)(p.a,{item:!0,xs:12,children:Object(O.jsx)(n,{className:"App-center-box",children:e?Object(O.jsxs)("div",{children:[Object(O.jsx)(C,{}),Object(O.jsx)(E,{value:t,index:0,children:Object(O.jsx)(A.a,{})}),Object(O.jsx)(E,{value:t,index:1,children:Object(O.jsx)(K.a,{})})]}):Object(O.jsx)("div",{className:"Wallet-button-div-middle",children:Object(O.jsx)(_,{})})})})})},R=n(7),I=n(99),M=n(81),D=(n(601),n(68)),U=n(2),z=n.n(U),F=n(27),G=n(6),q=(n(602),n(110)),H=function(){var e,t,n,i=Object(m.c)(x.c),r=Object(m.b)(),c=Object(a.useRef)(!0),s=Object(a.useMemo)((function(){return new R.Connection(Object(R.clusterApiUrl)(h.u))}),[]),o=Object(q.getPythProgramKeyForCluster)(h.u);return Object(a.useEffect)((function(){return function(){c.current=!1,r(Object(x.h)(null))}}),[r]),Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(G.a)(z.a.mark((function e(){var t,n,a,i,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e,t){var r,c=Object(F.a)(e);try{for(c.s();!(r=c.n()).done;){var s=r.value,o=Object(q.parseBaseData)(s.account.data);if(o)switch(q.AccountType[o.type]){case"Mapping":break;case"Product":if(t){var l=Object(q.parseProductData)(s.account.data),u=l.priceAccountKey,b=l.product;n[s.pubkey.toString()]=b,"11111111111111111111111111111111"!==u.toString()&&(a[u.toString()]=s.pubkey.toString())}break;case"Price":if(!t){var d=n[a[s.pubkey.toString()]];if(d){var j=Object(q.parsePriceData)(s.account.data);i[d.symbol]=j}}break;case"Test":break;default:throw new Error("Unknown account type: ".concat(o.type,". Try upgrading pyth-client."))}}}catch(p){c.e(p)}finally{c.f()}},e.next=3,s.getProgramAccounts(o,"finalized");case 3:t=e.sent,n={},a={},i={},i={},c(t,!0),c(t,!1),i&&r(Object(x.g)({SOL_USD:i["SOL/USD"],BANANA_USD:i["USDC/USD"],KONG_USD:i["ETH/USD"]}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.timer||(i.SOL_USD||e(),r(Object(x.h)(setInterval((function(){return e()}),5e3))))})),Object(O.jsxs)(p.a,{container:!0,spacing:2,children:[Object(O.jsx)(p.a,{item:!0,xs:4,children:Object(O.jsxs)(D.a,{component:"div",className:"Oracle-price-text",children:["BANANA/USD",Object(O.jsx)("br",{}),i.BANANA_USD?"$"+(null===(e=i.BANANA_USD)||void 0===e?void 0:e.price.toFixed(2)):""]})}),Object(O.jsx)(p.a,{item:!0,xs:4,children:Object(O.jsxs)(D.a,{component:"div",className:"Oracle-price-text",children:["SOL/USD",Object(O.jsx)("br",{}),i.SOL_USD?"$"+(null===(t=i.SOL_USD)||void 0===t?void 0:t.price.toFixed(2)):"Loading ..."]})}),Object(O.jsx)(p.a,{item:!0,xs:4,children:Object(O.jsxs)(D.a,{component:"div",className:"Oracle-price-text",children:["KONG/USD",Object(O.jsx)("br",{}),i.KONG_USD?"$"+(null===(n=i.KONG_USD)||void 0===n?void 0:n.price.toFixed(2)):""]})})]})},X=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"Bottom-spacer-hidden"}),Object(O.jsxs)(w.a,{elevation:3,className:"Bottom-bar",children:[Object(O.jsx)(v.a,{orientation:"horizontal",flexItem:!0,className:"App-divider"}),Object(O.jsx)(b.a,{variant:"regular",children:Object(O.jsx)(j.a,{sx:{flexGrow:1},children:Object(O.jsx)(H,{})})}),Object(O.jsx)(b.a,{className:"Bottom-bar-notification",variant:"regular",children:Object(O.jsx)(j.a,{sx:{flexGrow:1},children:Object(O.jsxs)(D.a,{component:"div",className:"Bottom-bar-notification-text",children:["THIS IS RUNNING ON DEVNET",Object(O.jsx)("br",{})]})})})]})]})},J=function(){var e=Object(M.a)(),t=o.a,n=Object(a.useMemo)((function(){return Object(R.clusterApiUrl)(t)}),[t]),i=Object(a.useMemo)((function(){return[Object(u.b)(),Object(u.c)(),Object(u.d)(),Object(u.a)(),Object(u.f)({network:t}),Object(u.e)({network:t})]}),[t]);return Object(O.jsx)(l.a,{endpoint:n,children:Object(O.jsxs)(l.b,{onError:function(t){return function(t){e("error","Wallet Error: ".concat(t.message))}(t)},wallets:i,autoConnect:!0,children:[Object(O.jsx)(g,{}),Object(O.jsx)(v.a,{orientation:"horizontal",flexItem:!0,className:"App-divider"}),Object(O.jsx)(I.b,{}),Object(O.jsx)("p",{children:Object(O.jsx)("br",{})}),Object(O.jsx)(B,{}),Object(O.jsx)(X,{})]})})},V=function(){var e=Object(m.b)();return Object(a.useEffect)((function(){var t=function(){e(Object(x.i)({windowWidth:window.innerWidth,windowHeight:window.innerHeight}))};return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(O.jsx)(s.a,{maxSnack:5,children:Object(O.jsx)(J,{})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,694)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))},Y=n(192),Q=n(40),$=Object(Y.a)({app:x.a,loans:Q.e}),ee=Object(Y.b)($);c.a.render(Object(O.jsx)(m.a,{store:ee,children:Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(V,{})})}),document.getElementById("root")),Z()},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(259),i=n(627),r=n(109),c=n.n(r),s=n(190),o=n(1),l=n(90),u=n(3),b=Object(a.a)({notification:{display:"flex",alignItems:"center"},link:{color:"#ffffff",display:"flex",alignItems:"center",marginLeft:16,textDecoration:"underline","&:hover":{color:"#000000"}},icon:{fontSize:20,marginLeft:8}});function d(){var e=b(),t=Object(s.b)().enqueueSnackbar;return Object(o.useCallback)((function(n,a,r){t(Object(u.jsxs)("span",{className:e.notification,children:[a,r&&Object(u.jsxs)(i.a,{className:e.link,href:"https://explorer.solana.com/tx/".concat(r,"?cluster=").concat(l.a),target:"_blank",children:["Transaction",Object(u.jsx)(c.a,{className:e.icon})]})]}),{variant:n})}),[t,e])}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=n(9).e.Devnet},99:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return H}));var a=n(2),i=n.n(a),r=n(18),c=n(6),s=n(38),o=n(7),l=n(83),u=n(5),b=n(1),d=n(17),j=n(90),p=n(109),f=n.n(p),O=n(13),_=n(373),h=n(617),m=n(619),x=n(615),g=n(75),v=n(68),y=n(44),S=n(260),k=n(153),w=n(261),A=n(85),T=n(259),N=n(367),L=n.n(N),P=n(147),W=n.n(P),C=n(34),K=n(81),E=n(40),B=n(36),R=n(366),I=n(9),M=n(42),D=n(256),U=n(3),z=Object(O.a)(_.a)({"& label.MuiInputLabel":{color:"white"},"& label.MuiInputLabel-root":{color:"white"},"& label.Mui-focused":{color:"white"},"& .MuiInput-underline:after":{borderBottomColor:"green"},"& .MuiInputBase-root":{color:"white",backgroundColor:"transparent"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"green"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"green"}}}),F=Object(T.a)({link:{color:"#ffffff",display:"flex",alignItems:"right",textDecoration:"underline","&:hover":{color:"#000000"}},icon:{fontSize:20}});function G(e,t){return q.apply(this,arguments)}function q(){return(q=Object(c.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.PublicKey.findProgramAddress([t.toBuffer(),M.b.toBuffer(),n.toBuffer()],d.C);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var t=Object(s.c)().connection,n=Object(s.d)(),a=n.publicKey,p=n.sendTransaction,O=Object(b.useState)(""),_=Object(r.a)(O,2),T=_[0],N=_[1],P=Object(b.useState)(!1),q=Object(r.a)(P,2),H=q[0],X=q[1],J=Object(C.b)(),V=Object(K.a)(),Z=Object(C.c)(E.c),Y=Object(C.c)(E.d),Q=F(),$=Object(b.useCallback)((function(){return J(Object(E.h)(!1))}),[J]);a||J(Object(E.h)(!1));var ee=function(e,t,n,a){var i=a.staking_sol_cap&&Number(Object(B.d)(Number(a.staking_sol_cap),o.LAMPORTS_PER_SOL)),r=4*n+a.rent_exempt_for_token_acc.toNumber(),c=t&&a.staking_sol_cap&&Number(Object(B.d)(Number(a.staking_sol_cap),o.LAMPORTS_PER_SOL))-Number(Object(B.d)(t,o.LAMPORTS_PER_SOL)),s=e&&n&&a.rent_exempt_for_token_acc&&Math.max(e-4*n-Number(a.rent_exempt_for_token_acc),0)/o.LAMPORTS_PER_SOL;return console.log("maxSolBalance: ",s),console.log("extraAmountToKeep: ",r),console.log("fillCap: ",c),console.log("Number(format5Dec(totalStaked, LAMPORTS_PER_SOL))"),console.log(Number(Object(B.d)(t,o.LAMPORTS_PER_SOL))),console.log("stakingSolCap: ",i),s+Number(Object(B.d)(t,o.LAMPORTS_PER_SOL))<i?(console.log("LESS"),s-Object(B.f)(r)):(console.log("MORE"),c-Object(B.f)(r))},te=Object(b.useCallback)(Object(c.a)(i.a.mark((function n(){var r,c,s,b,j,f,O,_,h,m,x,g,v,y,S,k,w,A,L,P,W,C,K,R,U,z,F,q;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=3;break}return V("error","Wallet not connected!"),n.abrupt("return");case 3:return r="",n.prev=4,X(!0),f=a,n.next=9,o.PublicKey.findProgramAddress([d.s.toBuffer(),e.from(d.b)],d.v);case 9:return O=n.sent,_=new o.Keypair,n.next=13,G(f,d.a);case 13:return h=n.sent,n.next=16,G(f,d.o);case 16:return m=n.sent,n.next=19,o.PublicKey.createWithSeed(_.publicKey,d.t,M.b);case 19:return x=n.sent,n.next=22,o.PublicKey.findProgramAddress([_.publicKey.toBuffer(),x.toBuffer()],d.v);case 22:return g=n.sent,v=new o.Transaction,n.t0=o.SystemProgram,n.t1=f,n.t2=_.publicKey,n.next=29,t.getMinimumBalanceForRentExemption(d.d);case 29:return n.t3=n.sent,n.t4=d.d,n.t5=d.v,n.t6={fromPubkey:n.t1,newAccountPubkey:n.t2,lamports:n.t3,space:n.t4,programId:n.t5},n.t7=n.t0.createAccount.call(n.t0,n.t6),n.t8=o.SystemProgram,n.t9=_.publicKey,n.t10=f,n.t11=x,n.t12=d.t,n.next=41,t.getMinimumBalanceForRentExemption(M.a.span);case 41:return n.t13=n.sent,n.t14=M.a.span,n.t15=M.b,n.t16={basePubkey:n.t9,fromPubkey:n.t10,newAccountPubkey:n.t11,seed:n.t12,lamports:n.t13,space:n.t14,programId:n.t15},n.t17=n.t8.createAccountWithSeed.call(n.t8,n.t16),n.t18=M.c.createInitAccountInstruction(M.b,d.o,x,g[0]),y=[n.t7,n.t17,n.t18],n.next=50,t.getAccountInfo(h,"finalized");case 50:return n.sent||(S=Object(u.struct)([Object(u.u8)("instruction")]),k=e.alloc(S.span),S.encode({instruction:0},k),y.push(new o.TransactionInstruction({keys:[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:d.a,isSigner:!1,isWritable:!1},{pubkey:d.D,isSigner:!1,isWritable:!1},{pubkey:M.b,isSigner:!1,isWritable:!1},{pubkey:d.w,isSigner:!1,isWritable:!1}],programId:d.C,data:k}))),n.next=54,t.getAccountInfo(m,"finalized");case 54:return n.sent||(w=Object(u.struct)([Object(u.u8)("instruction")]),A=e.alloc(w.span),w.encode({instruction:0},A),y.push(new o.TransactionInstruction({keys:[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:d.o,isSigner:!1,isWritable:!1},{pubkey:d.D,isSigner:!1,isWritable:!1},{pubkey:M.b,isSigner:!1,isWritable:!1},{pubkey:d.w,isSigner:!1,isWritable:!1}],programId:d.C,data:A}))),L=Object(u.struct)([Object(u.u8)("instruction"),Object(u.nu64)("lamports")]),P=e.alloc(L.span),L.encode({instruction:0,lamports:Object(B.e)(T)*o.LAMPORTS_PER_SOL},P),y.push(new o.TransactionInstruction({keys:[{pubkey:d.s,isSigner:!1,isWritable:!1},{pubkey:d.l,isSigner:!1,isWritable:!0},{pubkey:_.publicKey,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:d.a,isSigner:!1,isWritable:!0},{pubkey:O[0],isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!0,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!0,isWritable:!0},{pubkey:d.B,isSigner:!1,isWritable:!1},{pubkey:d.A,isSigner:!1,isWritable:!1},{pubkey:d.o,isSigner:!1,isWritable:!0},{pubkey:d.z,isSigner:!1,isWritable:!0},{pubkey:d.m,isSigner:!1,isWritable:!0},{pubkey:d.n,isSigner:!1,isWritable:!1},{pubkey:d.x,isSigner:!1,isWritable:!0},{pubkey:d.p,isSigner:!1,isWritable:!1},{pubkey:d.y,isSigner:!1,isWritable:!1},{pubkey:M.b,isSigner:!1,isWritable:!1},{pubkey:d.k,isSigner:!1,isWritable:!1}],programId:d.v,data:P})),v.add.apply(v,y),n.next=63,t.getBalance(a);case 63:if(W=n.sent,!((C=W/o.LAMPORTS_PER_SOL)<Object(B.e)(T))){n.next=67;break}throw Error("Insufficient wallet balance of ".concat(C.toFixed(5)," SOL for transaction of ").concat(T," SOL."));case 67:return n.next=69,t.getAccountInfo(d.l);case 69:return K=n.sent,R=Object(l.deserializeUnchecked)(D.a,D.b,K.data.slice(8)),U=null===R||void 0===R||null===(c=R.validator_system)||void 0===c||null===(s=c.total_active_balance)||void 0===s||null===(b=s.add(null===R||void 0===R?void 0:R.stake_system.total_cooling_down))||void 0===b||null===(j=b.add(null===R||void 0===R?void 0:R.available_reserve_balance))||void 0===j?void 0:j.toNumber(),n.next=74,t.getRecentBlockhash();case 74:if(z=n.sent.feeCalculator.lamportsPerSignature,!(Number(T)+Number(Object(B.d)(U,o.LAMPORTS_PER_SOL))>Number(Object(B.d)(Number(null===R||void 0===R?void 0:R.staking_sol_cap),o.LAMPORTS_PER_SOL)))){n.next=82;break}return F=ee(W,U,z,R),N(F.toString()),V("warning","Marinade Staking Pool is limiting loan collateral to: "+F.toString()),X(!1),J(Object(E.i)(null)),n.abrupt("return");case 82:return q=[_],V("info","Open Loan Request Approval Needed"),n.next=86,p(v,t,{signers:q});case 86:return r=n.sent,V("info","Transaction sent:",r),J(Object(E.i)(r)),n.next=91,t.confirmTransaction(r,"finalized");case 91:V("success","Transaction successful!",r),J(Object(E.j)(!0)),J(Object(E.i)(null)),$(),X(!1),N(""),n.next=113;break;case 99:if(n.prev=99,n.t19=n.catch(4),!(n.t19 instanceof I.p)){n.next=108;break}return V("error","Transaction failed! ".concat(null===n.t19||void 0===n.t19?void 0:n.t19.message),r),X(!1),J(Object(E.i)(null)),n.abrupt("return");case 108:return console.log(n.t19),V("error","Transaction failed! ".concat(null===n.t19||void 0===n.t19?void 0:n.t19.message),r),X(!1),J(Object(E.i)(null)),n.abrupt("return");case 113:case"end":return n.stop()}}),n,null,[[4,99]])}))),[a,p,t,T,J,V,$]);return Object(U.jsx)(h.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:Z,onClose:$,closeAfterTransition:!0,BackdropComponent:m.a,BackdropProps:{timeout:500,onClick:void 0},children:Object(U.jsx)(x.a,{in:Z,children:Object(U.jsxs)(g.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,border:"2px solid #000",boxShadow:24,p:4},className:"Open-loan-modal",children:[Object(U.jsx)(v.a,{id:"modal-modal-title",variant:"h6",component:"h2",align:"center",color:"white",children:"Open a New Loan"}),Object(U.jsx)("br",{}),Object(U.jsx)(z,{variant:"outlined",autoFocus:!0,fullWidth:!0,type:"text",label:"Collateral Amount in SOL",id:"collateral-amount",value:T,onChange:function(e){Object(B.h)(e.target.value)?N(Object(B.h)(e.target.value)):""===e.target.value&&N("")}.bind(undefined)}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:Object(U.jsx)(L.a,{style:{marginLeft:"45%"},color:"primary",fontSize:"large"})}),Object(U.jsx)("br",{}),Object(U.jsx)(R.a,{collateral:T}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)(g.a,{sx:{flexGrow:1},children:Object(U.jsxs)(y.a,{container:!0,spacing:2,children:[Object(U.jsx)(y.a,{item:!0,xs:10,children:Object(U.jsxs)(v.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"left",color:"white",children:["Slippage Tolerance",Object(U.jsx)(S.a,{title:"The maximum difference between your estimated price and execution price.",placement:"right",children:Object(U.jsx)(W.a,{style:{position:"relative",marginLeft:"2px",top:"5px"},fontSize:"small",color:"primary"})})]})}),Object(U.jsx)(y.a,{item:!0,xs:2,children:Object(U.jsx)(v.a,{id:"modal-modal-title",variant:"caption",component:"h2",align:"right",color:"white",style:{position:"relative",top:"5px"},children:"0.5%"})})]})}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),H?Object(U.jsx)(g.a,{sx:{flexGrow:1},children:Object(U.jsxs)(y.a,{container:!0,spacing:2,children:[Object(U.jsx)(y.a,{item:!0,xs:7,children:Object(U.jsx)(k.a,{color:"success"})}),Object(U.jsx)(y.a,{item:!0,xs:5,children:Y&&Object(U.jsxs)(w.a,{className:Q.link,href:"https://explorer.solana.com/tx/".concat(Y,"?cluster=").concat(j.a),target:"_blank",align:"right",children:["Transaction",Object(U.jsx)(f.a,{className:Q.icon})]})})]})}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(A.a,{onClick:te,variant:"contained",children:"Open Loan"}),"\xa0\xa0\xa0",Object(U.jsx)(A.a,{onClick:$,variant:"contained",color:"warning",children:"Cancel"})]})]})})})}}).call(this,n(12).Buffer)}},[[609,1,2]]]);
//# sourceMappingURL=main.6bd71751.chunk.js.map